{"version":3,"file":"jsforce-core.min.js","sources":["jsforce-core.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","jsforce","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","Duplex","_","supported","Sfdc","canvas","createRequest","signedRequest","params","callback","send","body","settings","client","method","data","contentType","success","responseHeaders","payload","isString","JSON","stringify","response","statusCode","status","str","end","failure","err","ajax","url","_read","size","push","bufs","sent","_write","chunk","encoding","toString","on","join","test","readable-stream","underscore",2,"popupWin","w","h","left","screen","width","top","height","open","handleCallbackResponse","res","checkCallbackResponse","state","localStorage","getItem","removeItem","states","prefix","promptType","cli","Client","_storeTokens","location","hash","_storeError","close","qs","parse","substring","access_token","search","error","events","inherits","Connection","OAuth2","clientIdx","_prefix","connection","EventEmitter","prototype","init","config","tokens","_getTokens","initialize","setTimeout","emit","login","options","isFunction","extend","_prompt","oauth2","rand","Math","random","setItem","authzUrl","getAuthorizationUrl","response_type","scope","pw","href","_removeTokens","pid","setInterval","closed","clearInterval","_getError","error_description","isLoggedIn","accessToken","logout","regexp","RegExp","document","cookie","match","issuedAt","Number","Date","now","userInfo","idUrl","ids","id","pop","organizationId","instanceUrl","instance_url","issued_at","../connection","../oauth2","querystring",3,"crequire","browser","modules","paths","p","replace","_0","_1","_2","toUpperCase","shift","../core-require","../jsforce","./client",4,"_index","jsonpParam","timeout","cbFuncName","callbacks","indexOf","script","createElement","type","src","documentElement","appendChild","cleanup","content-type","clearTimeout","removeChild",5,"createCacheKey","namespace","args","Array","slice","apply","map","CacheEntry","fetching","get","once","isUndefined","_value","set","clear","Cache","_entries","key","entry","k","makeResponseCacheable","fn","cache","arguments","result","ret","then","undefined","makeCacheable","$fn",6,"Buffer","oauthRefreshFn","conn","refreshToken","parseIdUrl","parseSignedRequest","sr","msg","json","formatDate","date","pad","number","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","idUrls","userId","orgId","createUsernamePasswordRefreshFn","username","password","esc","String","Promise","Logger","Query","SObject","QuickAction","HttpApi","Transport","defaults","loginUrl","version","Bulk","Streaming","Tooling","Analytics","Chatter","Apex","Metadata","Process","_logger","logLevel","clientId","clientSecret","redirectUri","maxRequest","_transport","proxyUrl","ProxyTransport","callOptions","streaming","bulk","tooling","analytics","chatter","metadata","apex","process","refreshFn","_refreshDelegate","SessionRefreshDelegate","cacheOptions","describe$","describe","describeSObject$","describeSObject","describeGlobal$","describeGlobal","serverUrl","sessionId","oauthToken","limitInfo","sobjects","bind","types","so","each","sobject","_sessionType","_baseUrl","_normalizeUrl","request","httpApi","apiUsage","used","parseInt","limit","thenCall","requestGet","requestPost","requestPut","requestPatch","requestDelete","query","soql","run","queryAll","scanAll","queryMore","locator","retrieve","isArray","reject","all","results","insert","create","records","record","sobjectType","attributes","clone","Id","Content-Type","update","noContentResponse","errors","upsert","extIdField","extId","del","destroy","sosl","encodeURIComponent","identity","jsonp","user_id","organization_id","authorize","logger","requestToken","debug","refresh_token","loginByOAuth2","loginBySoap","authenticate","soapLoginEndpoint","httpRequest","SOAPAction","m","faultstring","logoutByOAuth2","logoutBySoap","revokeToken","recent","isNumber","recentItems","updated","start","deleted","tabs","limits","theme","quickActions","quickAction","actionName","./cache","./http-api","./logger","./oauth2","./process","./promise","./query","./quick-action","./sobject","./transport","buffer",7,"./browser/canvas","./browser/jsonp","./connection","./csv","./date","./record","./record-stream","./soql-builder","q","through2","xml2js",8,"toCSV","extractHeaders","rows","recordToCSV","arrayToCSV","hasOwnProperty","keys","row","header","nullValue","arr","escapeCSV","parseCSV","token","parser","CSVParser","nextLine","nextToken","isNull","text","cursor","cell","dquoted","firstChar","charAt","dq","delim","comma","cr","lf","pivot","min","c",9,"zeropad","createLiteralBuilder","literal","num","SfDate","_literal","toJSON","toDateLiteral","parseDate","yy","getFullYear","mm","getMonth","dd","getDate","dstr","toDateTimeLiteral","hh","mi","ss","dtstr","d","setUTCFullYear","setUTCDate","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","offset","setTime","getTime","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","SfDateLiterals","YESTERDAY","TODAY","TOMORROW","LAST_WEEK","THIS_WEEK","NEXT_WEEK","LAST_MONTH","THIS_MONTH","NEXT_MONTH","LAST_90_DAYS","NEXT_90_DAYS","LAST_N_DAYS","NEXT_N_DAYS","NEXT_N_WEEKS","LAST_N_WEEKS","NEXT_N_MONTHS","LAST_N_MONTHS","THIS_QUARTER","LAST_QUARTER","NEXT_QUARTER","NEXT_N_QUARTERS","LAST_N_QUARTERS","THIS_YEAR","LAST_YEAR","NEXT_YEAR","NEXT_N_YEARS","LAST_N_YEARS","THIS_FISCAL_QUARTER","LAST_FISCAL_QUARTER","NEXT_FISCAL_QUARTER","NEXT_N_FISCAL_QUARTERS","LAST_N_FISCAL_QUARTERS","THIS_FISCAL_YEAR","LAST_FISCAL_YEAR","NEXT_FISCAL_YEAR","NEXT_N_FISCAL_YEARS","LAST_N_FISCAL_YEARS",10,"parseJSON","parseXML","parseString","explicitArray","parseText","_conn","_responseType","responseType","transport","_noContentResponse","refreshDelegate","getRefreshDelegate","deferred","defer","onResume","resolve","_refreshing","promise","beforeSend","requestTime","responseTime","isSessionExpired","refresh","isErrorResponse","getError","getResponseBody","Authorization","getResponseContentType","parseResponseBody","parseBody","hasErrorInResponseBody","content","parseError","isObject","message","errorCode","_refreshFn","since","_lastRefreshedAt",11,"RecordStream",12,"createLoggerFunction","level","log","LogLevels","INFO","_logLevel","DEBUG","WARN","ERROR","FATAL","console",13,"authzServiceUrl","tokenServiceUrl","revokeServiceUrl","client_id","redirect_uri","_postParams","grant_type","client_secret",14,"ProcessRule","rule","approval","ApprovalProcess","list","rules","trigger","contextIds","approvals","requests","req","_request","_createRequest","actionType","contextId","comments","ApprovalProcessRequest","submit","approve","workitemId","_process","onResolve","onReject","_promise","rets",15,"Q","nextTick","fail","done","when","reason","Deferred","_deferred",16,"stream","SOQLBuilder","super_","objectMode","_soql","_config","select","fields","includes","include","_locator","_executed","_finished","_chaining","Readable","_fields","where","conditions","skip","sort","orderby","dir","childRelName","childConfig","table","childQuery","SubQuery","_children","crname","_maxFetch","maxFetch","_autoFetch","autoFetch","_scanAll","ResponseTargets","_responseTarget","QueryResult","setResponseTarget","responseTarget","exec","execute","promiseCallback","Records","onRecord","removeListener","_execute","toSOQL","totalFetched","totalSize","SingleRecord","Count","nextRecordsUrl","read","addListener","_expandFields","findRelationTable","rname","ptable","_parent","describeCache","upperRname","childRelation","find","childRelationships","relationshipName","childSObject","expandAsteriskField","field","fpath","rfield","rtable","referenceTo","fpaths","expandedFields","flatten","explain","createSOQL","Serializable","filter","batch","deleteBulk","handleError","pipe","mapping","updateStream","recordMapStream","updateBulk","onResolved","parent",17,"path","_path","defaultValues",18,"Transform","PassThrough","CSV","_transform","enc","_dataStream","converter","DataStreamConverters","serialize","Parsable","_parserStream","ev","mapStream","rec","noeval","evalMapping","$0","prop","v","mapped","filterStream","CSVStreamConverter","wroteHeaders","writableObjectMode","buf","readableObjectMode","_this","csv",19,"RecordReference","blob","fieldName",20,"Record","layouts$","layouts","compactLayouts$","compactLayouts","approvalLayouts$","approvalLayouts","findOne","count","count()","bulkload","operation","input","load","insertBulk","createBulk","upsertBulk","destroyBulk","deleteHardBulk","destroyHardBulk","layoutName","listviews","listview","ListView",21,"createFieldsClause","cond","createConditionClause","createOrderByClause","childQueries","values","cquery","concat","operator","depth","conds","op","createFieldExpression","expr","paren","sfop","opMap","valueExpr","createValueExpression","escapeSOQLString","flag","=","$eq","!=","$ne",">","$gt","<","$lt",">=","$gte","<=","$lte","$like","$nlike","$in","$nin","$exists",22,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","baseUrl","LOCATION_BASE_URL","host","_proxyUrl","proxyParams","salesforceproxy-endpoint",23,"getResponseHeaderNames","xhr","headerLines","getAllResponseHeaders","headerLine","XMLHttpRequest","setRequestHeader","onreadystatechange","readyState","headerNames","headerName","getResponseHeader",24,25,"subject","byteLength","TypeError","kMaxLength","RangeError","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","poolSize","rootParent","SlowBuffer","hexWrite","string","remaining","strLen","parsed","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","base64","fromByteArray","utf8Slice","tmp","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","len","out","toHex","utf16leSlice","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","j","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","trim","units","Infinity","codePoint","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","dst","decodeURIComponent","INSPECT_MAX_BYTES","ArrayBuffer","foo","subarray","b","compare","x","y","isEncoding","totalLength","pos","item","copy","loweredCase","equals","inspect","val","byteOffset","arrayIndexOf","foundIndex","writeUInt8","isFinite","swap","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","target_start","fill","toArrayBuffer","BP","constructor","toLocaleString","base64-js","is-array",26,"lookup","decode","elt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","Arr","uint8ToBase64","uint8","encode","tripletToBase64","temp","extraBytes","output","base64js",27,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2",28,"Object",29,"_events","_maxListeners","arg","defaultMaxListeners","setMaxListeners","er","handler","listeners","listener","newListener","warned","trace","fired","position","splice","removeAllListeners","listenerCount","emitter",30,"drainQueue","draining","currentQueue","queue","noop","fun","title","argv","versions","off","binding","cwd","chdir","umask",31,"obj","sep","eq","maxKeys","kstr","vstr","idx","xs",32,"stringifyPrimitive","objectKeys","ks",33,"./decode","./encode",34,"Stream","EE","Writable","dest","ondata","writable","source","pause","ondrain","readable","resume","onend","didOnEnd","onclose","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",35,"assertEncoding","isBufferEncoding","passThroughWrite","utf16DetectIncompleteChar","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","available","charCode",36,37,"opts","ctx","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","arrayToHash","array","recurseTimes","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","desc","getOwnPropertyDescriptor","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","timestamp","time","getHours","getMinutes","getSeconds","months","formatRegExp","format","objects","deprecate","deprecated","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","origin","add","./support/isBuffer",38,"ctor","superCtor","enumerable","configurable","TempCtor",39,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","unshift","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","alternative","warn","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","operands","array_slice","valueOf","nearerValue","nearer","isPromise","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","resetUnhandledRejections","unhandledReasons","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","object_keys","master","isDef","dispatch","spread","async","makeGenerator","continuer","verb","StopIteration","generator","errback","spawn","_return","promised","promises","pendingCount","index","snapshot","any","current","onFulfilled","onRejected","onProgress","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestTick","setImmediate","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","Function","basis","collect","Type","object_hasOwnProperty","ReturnValue","Q_DEBUG","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","tap","fcall","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","mapply","mcall","invoke","fapply","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",40,"./lib/_stream_duplex.js",41,"allowHalfOpen","_writableState","ended","util","./_stream_readable","./_stream_writable","core-util-is",42,"cb","./_stream_transform",43,"ReadableState","hwm","highWaterMark","defaultHwm","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","emitReadable_","flow","maybeReadMore_","pipeOnDrain","resumeScheduled","resume_","fromList","stringMode","cpy","endReadable","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","wrap","paused","_fromList","./_stream_duplex","isarray","string_decoder/",44,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding",45,"WriteReq","WritableState","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","prefinish","need","endWritable","cork","uncork",46,47,48,"dup",49,"./lib/_stream_passthrough.js",50,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",51,52,53,54,"DestroyableTransform","_destroyed","construct","transform","xtend","t2","Through2","override","readable-stream/transform",55,"createReduce","iterator","iteratee","memo","currentKey","context","optimizeCb","isArrayLike","createPredicateIndexFinder","predicate","getLength","createIndexFinder","predicateFind","sortedIndex","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","proto","ObjProto","has","contains","root","previousUnderscore","ArrayProto","FuncProto","nativeIsArray","nativeKeys","nativeBind","nativeCreate","Ctor","_wrapped","VERSION","func","argCount","other","collection","accumulator","matcher","property","createAssigner","keysFunc","undefinedOnly","baseCreate","MAX_ARRAY_INDEX","foldl","inject","reduceRight","foldr","detect","findIndex","findKey","negate","every","some","fromIndex","guard","isFunc","pluck","attrs","findWhere","computed","lastComputed","shuffle","shuffled","sample","sortBy","criteria","right","group","behavior","groupBy","indexBy","countBy","toArray","partition","pass","first","take","initial","last","rest","drop","compact","shallow","strict","startIndex","isArguments","without","difference","uniq","unique","isSorted","union","intersection","argsLength","zip","unzip","findLastIndex","low","high","mid","lastIndexOf","range","stop","step","ceil","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","bindAll","memoize","hasher","address","wait","throttle","previous","later","leading","trailing","debounce","immediate","callNow","wrapper","compose","after","times","before","hasEnumBug","propertyIsEnumerable","allKeys","mapObject","pairs","invert","functions","methods","names","extendOwn","assign","pick","oiteratee","omit","props","interceptor","isMatch","aStack","bStack","className","areArrays","aCtor","bCtor","isEqual","isEmpty","isElement","nodeType","Int8Array","parseFloat","noConflict","constant","propertyOf","matches","accum","escapeMap","&","\"","'","`","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","escape","unescape","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","template","oldSettings","variable","render","argument","chain","instance","_chain","mixin",56,"stripBOM","../lib/xml2js",57,"prefixMatch","normalize","firstCharLowerCase","stripPrefix","parseNumbers",58,"bom","builder","escapeCDATA","processName","processors","requiresCDATA","sax","wrapCDATA","child","hasProp","__super__","me","thing","processedName","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","attrNameProcessors","tagNameProcessors","valueProcessors","emptyTag","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","chunkSize","cdata","ValidationError","superClass","Builder","ref","buildObject","rootObj","rootElement","element","attr","raw","txt","att","ele","up","callee","Parser","reset","assignOrPush","processAsync","xmlnskey","saxParser","ontext","errThrown","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","uri","local","onclosetag","emptyStr","nodeName","old","xpath","_error","oncdata","./bom","./processors","xmlbuilder",59,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","SD","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","string_decoder",60,"XMLAttribute","attName","attValue","lodash/object/create",61,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","isRoot","documentObject","rootObject","declaration","pubID","sysID","ref1","ref2","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",62,"XMLCData","XMLNode","space","./XMLNode",63,"XMLComment",64,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",65,"XMLDTDElement","dtdElementValue","lodash/lang/isArray",66,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash/lang/isObject",67,"XMLDTDNotation",68,"xmlVersion","xmlEncoding","xmlStandalone",69,"XMLProcessingInstruction","children","attList","pEntity","notation","instruction","ref3","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",70,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","len1","ref4","ref5","./XMLAttribute","lodash/collection/every","lodash/lang/isFunction",71,"XMLRaw","XMLText","lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","insertBefore","removed","insertAfter","remove","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash/lang/isEmpty",72,73,74,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",75,76,"./XMLBuilder","lodash/object/assign",77,"thisArg","arrayEvery","baseEvery","baseCallback","../internal/arrayEvery","../internal/baseCallback","../internal/baseEvery","../lang/isArray",78,79,"baseAssign","customizer","baseCopy","../object/keys","./baseCopy",80,"isBindable","bindCallback","baseMatches","baseProperty","baseMatchesProperty","../utility/identity","./baseMatches","./baseMatchesProperty","./baseProperty","./bindCallback","./isBindable",81,82,"../lang/isObject",83,"baseEach","isLength","baseForOwn","iterable","toObject","./baseForOwn","./isLength","./toObject",84,"./baseEach",85,"baseFor",86,"./baseFor",87,"baseIsEqual","isWhere","stackA","stackB","valType","othType","baseIsEqualDeep","./baseIsEqualDeep",88,"equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","objToString","argsTag","objectTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","objectProto","../lang/isTypedArray","./equalArrays","./equalByTag","./equalObjects",89,"baseIsFunction",90,"baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","./baseIsEqual",91,"isStrictComparable","./baseIsMatch","./isStrictComparable",92,93,94,"metaMap","baseSetData","./metaMap",95,"baseToString",96,97,"assigner","isIterateeCall","./isIterateeCall",98,"arrLength","othLength","arrValue","othValue","othIndex",99,"boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag",100,"objProps","objLength","othProps","hasCtor","objCtor","othCtor",101,"support","funcNames","funcDecomp","fnToString","reFuncName","reThis","isNative","../lang/isNative","../support","./baseSetData",102,"isIndex","MAX_SAFE_INTEGER",103,"prereq","./isIndex",104,105,"isObjectLike",106,107,"WeakMap",108,"shimKeys","keysIn","propsLength","allowIndexes","nonEnumArgs","../lang/isArguments","../object/keysIn",109,110,"../internal/isLength","../internal/isObjectLike",111,"./isNative",112,"./isArguments","./isArray","./isFunction","./isString",113,"funcTag","../internal/baseIsFunction",114,"reNative","reHostCtor","escapeRegExp","../string/escapeRegExp",115,116,117,"typedArrayTags","mapTag","setTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag",118,"../internal/baseAssign","../internal/createAssigner",119,"properties","../internal/baseCopy","../internal/baseCreate","../internal/isIterateeCall","./keys",120,"../internal/shimKeys",121,"isProto","skipIndexes","../internal/isIndex",122,"reHasRegExpChars","reRegExpChars","../internal/baseToString",123,"WinRTError","dom","createDocumentFragment","./lang/isNative",124],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jsforce = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*global Sfdc */\r\n'use strict';\r\n\r\nvar Duplex = require('readable-stream').Duplex,\r\n    _ = require('underscore');\r\n\r\nfunction parseHeaders(hs) {\r\n  var headers = {};\r\n  hs.split(/\\n/).forEach(function(line) {\r\n    var pair = line.split(/\\s*:\\s*/);\r\n    var name = pair[0].toLowerCase();\r\n    var value = pair[1];\r\n    headers[name] = value;\r\n  });\r\n  return headers;\r\n}\r\n\r\nmodule.exports = {\r\n  \r\n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\r\n\r\n  createRequest: function(signedRequest) {\r\n    return function(params, callback) {\r\n      var response;\r\n      var str = new Duplex();\r\n      str._read = function(size) {\r\n        if (response) {\r\n          str.push(response.body);\r\n        }\r\n      };\r\n      var bufs = [];\r\n      var sent = false;\r\n      str._write = function(chunk, encoding, callback) {\r\n        bufs.push(chunk.toString(encoding));\r\n        callback();\r\n      };\r\n      str.on('finish', function() {\r\n        if (!sent) {\r\n          send(bufs.join(''));\r\n          sent = true;\r\n        }\r\n      });\r\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\r\n        send(params.body);\r\n        sent = true;\r\n      }\r\n\r\n      function send(body) {\r\n        var settings = {\r\n          client: signedRequest.client,\r\n          method: params.method,\r\n          data: body\r\n        };\r\n        if (params.headers) {\r\n          settings.headers = {};\r\n          for (var name in params.headers) {\r\n            if (name.toLowerCase() === 'content-type') {\r\n              settings.contentType = params.headers[name];\r\n            } else {\r\n              settings.headers[name] = params.headers[name];\r\n            }\r\n          }\r\n        }\r\n        settings.success = function(data) {\r\n          var headers = parseHeaders(data.responseHeaders);\r\n          var body = data.payload;\r\n          if (!_.isString(body)) {\r\n            body = JSON.stringify(body);\r\n          }\r\n          response = {\r\n            statusCode : data.status,\r\n            headers: headers,\r\n            body: body\r\n          };\r\n          if (callback) {\r\n            callback(null, response, response.body);\r\n          }\r\n          str.end();\r\n        };\r\n        settings.failure = function(err) {\r\n          if (callback) {\r\n            callback(err);\r\n          }\r\n        };\r\n        Sfdc.canvas.client.ajax(params.url, settings);\r\n      }\r\n      return str;\r\n    };\r\n  }\r\n};\r\n\r\n\n},{\"readable-stream\":50,\"underscore\":55}],2:[function(require,module,exports){\n/**\r\n * @file Browser client connection management class\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar events = require('events'),\r\n    inherits = require('inherits'),\r\n    qs = require('querystring'),\r\n    _ = require('underscore'),\r\n    Connection = require('../connection'),\r\n    OAuth2 = require('../oauth2');\r\n\r\n/**\r\n * @private\r\n */\r\nfunction popupWin(url, w, h) {\r\n  var left = (screen.width/2)-(w/2);\r\n  var top = (screen.height/2)-(h/2);\r\n  return window.open(url, null, 'location=yes,toolbar=no,status=no,menubar=no,width='+w+',height='+h+',top='+top+',left='+left);\r\n}\r\n\r\nfunction handleCallbackResponse() {\r\n  var res = checkCallbackResponse();\r\n  var state = localStorage.getItem('jsforce_state');\r\n  if (res && state && res.body.state === state) {\r\n    localStorage.removeItem('jsforce_state');\r\n    var states = state.split('.');\r\n    var prefix = states[0], promptType = states[1];\r\n    var cli = new Client(prefix);\r\n    if (res.success) {\r\n      cli._storeTokens(res.body);\r\n      location.hash = '';\r\n    } else {\r\n      cli._storeError(res.body);\r\n    }\r\n    if (promptType === 'popup') { window.close(); return true;}\r\n  }\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\nfunction checkCallbackResponse() {\r\n  var params;\r\n  if (window.location.hash) {\r\n    params = qs.parse(window.location.hash.substring(1));\r\n    if (params.access_token) {\r\n      return { success: true, body: params };\r\n    }\r\n  } else if (window.location.search) {\r\n    params = qs.parse(window.location.search.substring(1));\r\n    if (params.error) {\r\n      return { success: false, body: params };\r\n    }\r\n  }\r\n}\r\n\r\n/** @private **/\r\nvar clientIdx = 0;\r\n\r\n\r\n/**\r\n * @class\r\n * @todo add document\r\n */\r\nvar Client = function(prefix) {\r\n  this._prefix = prefix || 'jsforce' + clientIdx++;\r\n  this.connection = null;\r\n};\r\n\r\ninherits(Client, events.EventEmitter);\r\n\r\n/**\r\n *\r\n */\r\nClient.prototype.init = function(config) {\r\n  if (handleCallbackResponse()) { return; }\r\n  this.config = config;\r\n  this.connection = new Connection(config);\r\n  var tokens = this._getTokens();\r\n  if (tokens) {\r\n    this.connection.initialize(tokens);\r\n    var self = this;\r\n    setTimeout(function() {\r\n      self.emit('connect', self.connection);\r\n    }, 10);\r\n  }\r\n};\r\n\r\n/** \r\n *\r\n */\r\nClient.prototype.login = function(options, callback) {\r\n  if (_.isFunction(options)) {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {}; \r\n  callback = callback || function(){ };\r\n  _.extend(options, this.config);\r\n  var self = this;\r\n  this._prompt(options, callback);\r\n};\r\n\r\n\r\nClient.prototype._prompt = function(options, callback) {\r\n  var self = this;\r\n  var oauth2 = new OAuth2(options);\r\n  var rand = Math.random().toString(36).substring(2);\r\n  var state = [ this._prefix, \"popup\", rand ].join('.');\r\n  localStorage.setItem(\"jsforce_state\", state);\r\n  var authzUrl = oauth2.getAuthorizationUrl({\r\n    response_type: 'token',\r\n    scope : options.scope,\r\n    state: state\r\n  });\r\n  var size = options.size || {};\r\n  var pw = popupWin(authzUrl, size.width || 912, size.height || 513);\r\n  if (!pw) {\r\n    state = [ this._prefix, \"redirect\", rand ].join('.');\r\n    localStorage.setItem(\"jsforce_state\", state);\r\n    authzUrl = oauth2.getAuthorizationUrl({\r\n      response_type: 'token',\r\n      scope : options.scope,\r\n      state: state\r\n    });\r\n    location.href = authzUrl;\r\n    return;\r\n  }\r\n  self._removeTokens();\r\n  var pid = setInterval(function() {\r\n    try {\r\n      if (!pw || pw.closed) {\r\n        clearInterval(pid);\r\n        var tokens = self._getTokens();\r\n        if (tokens) {\r\n          self.connection.initialize(tokens);\r\n          self.emit('connect', self.connection);\r\n          callback(null, { status: 'connect' });\r\n        } else {\r\n          var err = self._getError();\r\n          if (err) {\r\n            callback(new Error(err.error + \": \" + err.error_description));\r\n          } else {\r\n            callback(null, { status: 'cancel' });\r\n          }\r\n        }\r\n      }\r\n    } catch(e) {}\r\n  }, 1000);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nClient.prototype.isLoggedIn = function() {\r\n  return !!(this.connection && this.connection.accessToken);\r\n};\r\n\r\n/**\r\n * \r\n */\r\nClient.prototype.logout = function() {\r\n  this.connection.logout();\r\n  this._removeTokens();\r\n  this.emit('disconnect');\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nClient.prototype._getTokens = function() {\r\n  var regexp = new RegExp(\"(^|;\\\\s*)\"+this._prefix+\"_loggedin=true(;|$)\");\r\n  if (document.cookie.match(regexp)) {\r\n    var issuedAt = Number(localStorage.getItem(this._prefix+'_issued_at'));\r\n    if (Date.now() < issuedAt + 2 * 60 * 60 * 1000) { // 2 hours\r\n      var userInfo;\r\n      var idUrl = localStorage.getItem(this._prefix + '_id');\r\n      if (idUrl) {\r\n        var ids = idUrl.split('/');\r\n        userInfo = { id: ids.pop(), organizationId: ids.pop(), url: idUrl };\r\n      }\r\n      return {\r\n        accessToken: localStorage.getItem(this._prefix + '_access_token'),\r\n        instanceUrl: localStorage.getItem(this._prefix + '_instance_url'),\r\n        userInfo: userInfo\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nClient.prototype._storeTokens = function(params) {\r\n  localStorage.setItem(this._prefix + '_access_token', params.access_token);\r\n  localStorage.setItem(this._prefix + '_instance_url', params.instance_url);\r\n  localStorage.setItem(this._prefix + '_issued_at', params.issued_at);\r\n  localStorage.setItem(this._prefix + '_id', params.id);\r\n  document.cookie = this._prefix + '_loggedin=true;';\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nClient.prototype._removeTokens = function() {\r\n  localStorage.removeItem(this._prefix + '_access_token');\r\n  localStorage.removeItem(this._prefix + '_instance_url');\r\n  localStorage.removeItem(this._prefix + '_issued_at');\r\n  localStorage.removeItem(this._prefix + '_id');\r\n  document.cookie = this._prefix + '_loggedin=';\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nClient.prototype._getError = function() {\r\n  try {\r\n    var err = JSON.parse(localStorage.getItem(this._prefix + '_error'));\r\n    localStorage.removeItem(this._prefix + '_error');\r\n    return err;\r\n  } catch(e) {}\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nClient.prototype._storeError = function(err) {\r\n  localStorage.setItem(this._prefix + '_error', JSON.stringify(err));\r\n};\r\n\r\n/**\r\n *\r\n */\r\nmodule.exports = new Client();\r\n\r\nmodule.exports.Client = Client;\r\n\n},{\"../connection\":6,\"../oauth2\":13,\"events\":29,\"inherits\":38,\"querystring\":33,\"underscore\":55}],3:[function(require,module,exports){\n'use strict';\r\n\r\nvar jsforce = require('../jsforce');\r\nvar crequire;\r\n\r\n// core-require code will be automatically generated in grunt process before making browser build\r\ntry {\r\n  crequire = require('../core-require'); \r\n} catch(e) {}\r\n\r\njsforce.browser = require('./client');\r\njsforce.modules = jsforce.modules || {};\r\njsforce.require = function(name) {\r\n  try {\r\n    return crequire(name);\r\n  } catch(e) {\r\n    if (name === \"jsforce\" || name === \"./jsforce\") { return jsforce; }\r\n    if (name.substring(0, 2) === \"./\") {\r\n      var paths = name.substring(2).split(\"/\");\r\n      var p = paths.pop();\r\n      paths.push(p.replace(/(^|\\-)([a-zA-Z])/g, function(_0, _1, _2) {\r\n        return _2.toUpperCase();\r\n      }));\r\n      var o = jsforce.modules;\r\n      while (o && paths.length > 0) {\r\n        o = o[paths.shift()];\r\n      }\r\n      return o;\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = jsforce;\n},{\"../core-require\":7,\"../jsforce\":11,\"./client\":2}],4:[function(require,module,exports){\n/*global window, document */\r\n'use strict';\r\n\r\nvar _index = 0;\r\n\r\nmodule.exports = {\r\n\r\n  supported: typeof window !== 'undefined',\r\n\r\n  createRequest: function(jsonpParam, timeout) {\r\n    jsonpParam = jsonpParam || 'callback';\r\n    timeout = timeout || 10000;\r\n\r\n    return function(params, callback) {\r\n      if (params.method.toUpperCase() !== 'GET') {\r\n        return callback(new Error('JSONP only supports GET request.'));\r\n      }\r\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\r\n      var callbacks = window;\r\n      var url = params.url;\r\n      url += url.indexOf('?')>0 ? '&' : '?';\r\n      url += jsonpParam + '=' + cbFuncName;\r\n\r\n      var script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.src = url;\r\n      document.documentElement.appendChild(script);\r\n\r\n      var pid = setTimeout(function() {\r\n        cleanup();\r\n        callback(new Error(\"JSONP call time out.\"));\r\n      }, timeout);\r\n\r\n      callbacks[cbFuncName] = function(res) {\r\n        cleanup();\r\n        callback(null, {\r\n          statusCode: 200,\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify(res)\r\n        });\r\n      };\r\n\r\n      var cleanup = function() {\r\n        clearTimeout(pid);\r\n        document.documentElement.removeChild(script);\r\n        delete callbacks[cbFuncName];\r\n      };\r\n    };\r\n\r\n  }\r\n\r\n};\n},{}],5:[function(require,module,exports){\n/**\r\n * @file Manages asynchronous method response cache\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar events = require('events'),\r\n    inherits = require('inherits'),\r\n    _      = require('underscore')._;\r\n\r\n/**\r\n * Class for managing cache entry\r\n *\r\n * @private\r\n * @class\r\n * @constructor\r\n * @template T\r\n */\r\nvar CacheEntry = function() {\r\n  this.fetching = false;\r\n};\r\n\r\ninherits(CacheEntry, events.EventEmitter);\r\n\r\n/**\r\n * Get value in the cache entry\r\n *\r\n * @param {Callback.<T>} [callback] - Callback function callbacked the cache entry updated\r\n * @returns {T|undefined}\r\n */\r\nCacheEntry.prototype.get = function(callback) {\r\n  if (!callback) {\r\n    return this._value;\r\n  } else {\r\n    this.once('value', callback);\r\n    if (!_.isUndefined(this._value)) {\r\n      this.emit('value', this._value);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Set value in the cache entry\r\n *\r\n * @param {T} [value] - A value for caching\r\n */\r\nCacheEntry.prototype.set = function(value) {\r\n  this._value = value;\r\n  this.emit('value', this._value);\r\n};\r\n\r\n/**\r\n * Clear cached value\r\n */\r\nCacheEntry.prototype.clear = function() {\r\n  this.fetching = false;\r\n  delete this._value;\r\n};\r\n\r\n\r\n/**\r\n * Caching manager for async methods\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nvar Cache = function() {\r\n  this._entries = {};\r\n};\r\n\r\n/**\r\n * retrive cache entry, or create if not exists.\r\n *\r\n * @param {String} [key] - Key of cache entry\r\n * @returns {CacheEntry}\r\n */\r\nCache.prototype.get = function(key) {\r\n  if (key && this._entries[key]) {\r\n    return this._entries[key];\r\n  } else {\r\n    var entry = new CacheEntry();\r\n    this._entries[key] = entry;\r\n    return entry;\r\n  }\r\n};\r\n\r\n/**\r\n * clear cache entries prefix matching given key\r\n * @param {String} [key] - Key prefix of cache entry to clear\r\n */\r\nCache.prototype.clear = function(key) {\r\n  for (var k in this._entries) {\r\n    if (!key || k.indexOf(key) === 0) {\r\n      this._entries[k].clear();\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * create and return cache key from namespace and serialized arguments.\r\n * @private\r\n */\r\nfunction createCacheKey(namespace, args) {\r\n  args = Array.prototype.slice.apply(args);\r\n  return namespace + '(' + _.map(args, function(a){ return JSON.stringify(a); }).join(',') + ')';\r\n}\r\n\r\n/**\r\n * Enable caching for async call fn to intercept the response and store it to cache.\r\n * The original async calll fn is always invoked.\r\n *\r\n * @protected\r\n * @param {Function} fn - Function to covert cacheable\r\n * @param {Object} [scope] - Scope of function call\r\n * @param {Object} [options] - Options\r\n * @return {Function} - Cached version of function\r\n */\r\nCache.prototype.makeResponseCacheable = function(fn, scope, options) {\r\n  var cache = this;\r\n  options = options || {};\r\n  return function() {\r\n    var args = Array.prototype.slice.apply(arguments);\r\n    var callback = args.pop();\r\n    if (!_.isFunction(callback)) {\r\n      args.push(callback);\r\n      callback = null;\r\n    }\r\n    var key = _.isString(options.key) ? options.key :\r\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\r\n              createCacheKey(options.namespace, args);\r\n    var entry = cache.get(key);\r\n    entry.fetching = true;\r\n    if (callback) {\r\n      args.push(function(err, result) {\r\n        entry.set({ error: err, result: result });\r\n        callback(err, result);\r\n      });\r\n    }\r\n    var ret, error;\r\n    try {\r\n      ret = fn.apply(scope || this, args);\r\n    } catch(e) {\r\n      error = e;\r\n    }\r\n    if (ret && _.isFunction(ret.then)) { // if the returned value is promise\r\n      if (!callback) {\r\n        return ret.then(function(result) {\r\n          entry.set({ error: undefined, result: result });\r\n          return result;\r\n        }, function(err) {\r\n          entry.set({ error: err, result: undefined });\r\n          throw err;\r\n        });\r\n      } else {\r\n        return ret;\r\n      }\r\n    } else {\r\n      entry.set({ error: error, result: ret });\r\n      if (error) { throw error; }\r\n      return ret;\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Enable caching for async call fn to lookup the response cache first, then invoke original if no cached value.\r\n *\r\n * @protected\r\n * @param {Function} fn - Function to covert cacheable\r\n * @param {Object} [scope] - Scope of function call\r\n * @param {Object} [options] - Options\r\n * @return {Function} - Cached version of function\r\n */\r\nCache.prototype.makeCacheable = function(fn, scope, options) {\r\n  var cache = this;\r\n  options = options || {};\r\n  var $fn = function() {\r\n    var args = Array.prototype.slice.apply(arguments);\r\n    var callback = args.pop();\r\n    if (!_.isFunction(callback)) {\r\n      args.push(callback);\r\n    }\r\n    var key = _.isString(options.key) ? options.key :\r\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\r\n              createCacheKey(options.namespace, args);\r\n    var entry = cache.get(key);\r\n    if (!_.isFunction(callback)) { // if callback is not given in last arg, return cached result (immediate).\r\n      var value = entry.get();\r\n      if (!value) { throw new Error('Function call result is not cached yet.'); }\r\n      if (value.error) { throw value.error; }\r\n      return value.result;\r\n    }\r\n    entry.get(function(value) {\r\n      callback(value.error, value.result);\r\n    });\r\n    if (!entry.fetching) { // only when no other client is calling function\r\n      entry.fetching = true;\r\n      args.push(function(err, result) {\r\n        entry.set({ error: err, result: result });\r\n      });\r\n      fn.apply(scope || this, args);\r\n    }\r\n  };\r\n  $fn.clear = function() {\r\n    var key = _.isString(options.key) ? options.key :\r\n              _.isFunction(options.key) ? options.key.apply(scope, arguments) :\r\n              createCacheKey(options.namespace, arguments);\r\n    cache.clear(key);\r\n  };\r\n  return $fn;\r\n};\r\n\r\n\r\nmodule.exports = Cache;\r\n\n},{\"events\":29,\"inherits\":38,\"underscore\":55}],6:[function(require,module,exports){\n(function (Buffer){\n/*global Buffer */\r\n/**\r\n * @file Connection class to keep the API session information and manage requests\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar events  = require('events'),\r\n    inherits = require('inherits'),\r\n    _       = require('underscore')._,\r\n    Promise = require('./promise'),\r\n    Logger  = require('./logger'),\r\n    OAuth2  = require('./oauth2'),\r\n    Query   = require('./query'),\r\n    SObject = require('./sobject'),\r\n    QuickAction = require('./quick-action'),\r\n    HttpApi = require('./http-api'),\r\n    Transport = require('./transport'),\r\n    Cache   = require('./cache');\r\n\r\nvar defaults = {\r\n  loginUrl: \"https://login.salesforce.com\",\r\n  instanceUrl: \"\",\r\n  version: \"33.0\"\r\n};\r\n\r\n/**\r\n * Connection class to keep the API session information and manage requests\r\n *\r\n * @constructor\r\n * @extends events.EventEmitter\r\n * @param {Object} [options] - Connection options\r\n * @param {OAuth2|Object} [options.oauth2] - OAuth2 instance or options to be passed to OAuth2 constructor\r\n * @param {String} [options.logLevel] - Output logging level (DEBUG|INFO|WARN|ERROR|FATAL)\r\n * @param {String} [options.version] - Salesforce API Version (without \"v\" prefix)\r\n * @param {Number} [options.maxRequest] - Max number of requests allowed in parallel call\r\n * @param {String} [options.loginUrl] - Salesforce Login Server URL (e.g. https://login.salesforce.com/)\r\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\r\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\r\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\r\n * @param {String} [options.sessionId] - Salesforce session ID\r\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\r\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\r\n * @param {String} [options.proxyUrl] - Cross-domain proxy server URL, used in browser client, non Visualforce app.\r\n * @param {Object} [options.callOptions] - Call options used in each SOAP/REST API request. See manual.\r\n */\r\nvar Connection = module.exports = function(options) {\r\n  var Bulk    = jsforce.require('./api\\bulk'),\r\n      Streaming = jsforce.require('./api\\streaming'),\r\n      Tooling = jsforce.require('./api\\tooling'),\r\n      Analytics = jsforce.require('./api\\analytics'),\r\n      Chatter = jsforce.require('./api\\chatter'),\r\n      Apex    = jsforce.require('./api\\apex'),\r\n      Metadata = jsforce.require('./api\\metadata'),\r\n      Process = require('./process');\r\n\r\n  options = options || {};\r\n\r\n  this._logger = new Logger(options.logLevel);\r\n\r\n  var oauth2 = options.oauth2 || {\r\n    loginUrl : options.loginUrl,\r\n    clientId : options.clientId,\r\n    clientSecret : options.clientSecret,\r\n    redirectUri : options.redirectUri\r\n  };\r\n\r\n  /**\r\n   * OAuth2 object\r\n   * @member {OAuth2} Connection#oauth2\r\n   */\r\n  this.oauth2 = oauth2 = oauth2 instanceof OAuth2 ? oauth2 : new OAuth2(oauth2);\r\n\r\n  this.loginUrl = options.loginUrl || oauth2.loginUrl || defaults.loginUrl;\r\n  this.version = options.version || defaults.version;\r\n  this.maxRequest = options.maxRequest || this.maxRequest || 10;\r\n\r\n  /** @private */\r\n  this._transport =\r\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\r\n\r\n  this.callOptions = options.callOptions;\r\n\r\n  /**\r\n   * Streaming API object\r\n   * @member {Streaming} Connection#streaming\r\n   */\r\n  if (Streaming) {\r\n    this.streaming = new Streaming(this);\r\n  }\r\n  /**\r\n   * Bulk API object\r\n   * @member {Bulk} Connection#bulk\r\n   */\r\n  if (Bulk) {\r\n    this.bulk = new Bulk(this);\r\n  }\r\n  /**\r\n   * Tooling API object\r\n   * @member {Tooling} Connection#tooling\r\n   */\r\n  if (Tooling) {\r\n    this.tooling = new Tooling(this);\r\n  }\r\n  /**\r\n   * Analytics API object\r\n   * @member {Analytics} Connection#analytics\r\n   */\r\n  if (Analytics) {\r\n    this.analytics = new Analytics(this);\r\n  }\r\n  /**\r\n   * Chatter API object\r\n   * @member {Chatter} Connection#chatter\r\n   */\r\n  if (Chatter) {\r\n    this.chatter = new Chatter(this);\r\n  }\r\n  /**\r\n   * Metadata API object\r\n   * @member {Metadata} Connection#metadata \r\n   */\r\n  if (Metadata) {\r\n    this.metadata = new Metadata(this);\r\n  }\r\n  /**\r\n   * Apex REST API object\r\n   * @member {Apex} Connection#apex\r\n   */\r\n  if (Apex) {\r\n    this.apex = new Apex(this);\r\n  }\r\n\r\n  /**\r\n   * @member {Process} Connection#process\r\n   */\r\n  this.process = new Process(this);\r\n\r\n  /**\r\n   * Cache object for result\r\n   * @member {Cache} Connection#cache\r\n   */\r\n  this.cache = new Cache();\r\n\r\n  // Allow to delegate connection refresh to outer function\r\n  var self = this;\r\n  var refreshFn = options.refreshFn;\r\n  if (!refreshFn && this.oauth2.clientId && this.oauth2.clientSecret) {\r\n    refreshFn = oauthRefreshFn;\r\n  }\r\n  if (refreshFn) {\r\n    this._refreshDelegate = new HttpApi.SessionRefreshDelegate(this, refreshFn);\r\n  }\r\n\r\n  var cacheOptions = {\r\n    key: function(type) { return type ? \"describe.\" + type : \"describe\"; }\r\n  };\r\n  this.describe$ = this.cache.makeCacheable(this.describe, this, cacheOptions);\r\n  this.describe = this.cache.makeResponseCacheable(this.describe, this, cacheOptions);\r\n  this.describeSObject$ = this.describe$;\r\n  this.describeSObject = this.describe;\r\n\r\n  cacheOptions = { key: 'describeGlobal' };\r\n  this.describeGlobal$ = this.cache.makeCacheable(this.describeGlobal, this, cacheOptions);\r\n  this.describeGlobal = this.cache.makeResponseCacheable(this.describeGlobal, this, cacheOptions);\r\n\r\n  this.initialize(options);\r\n};\r\n\r\ninherits(Connection, events.EventEmitter);\r\n\r\n/**\r\n * Initialize connection.\r\n *\r\n * @protected\r\n * @param {Object} options - Initialization options\r\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\r\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\r\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\r\n * @param {String} [options.sessionId] - Salesforce session ID\r\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\r\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\r\n * @param {UserInfo} [options.userInfo] - Logged in user information\r\n */\r\nConnection.prototype.initialize = function(options) {\r\n  if (!options.instanceUrl && options.serverUrl) {\r\n    options.instanceUrl = options.serverUrl.split('/').slice(0, 3).join('/');\r\n  }\r\n  this.instanceUrl = options.instanceUrl || options.serverUrl || this.instanceUrl || defaults.instanceUrl;\r\n\r\n  this.accessToken = options.sessionId || options.accessToken || this.accessToken;\r\n  this.refreshToken = options.refreshToken || this.refreshToken;\r\n  if (this.refreshToken && !this._refreshDelegate) {\r\n    throw new Error(\"Refresh token is specified without oauth2 client information or refresh function\");\r\n  }\r\n\r\n  this.signedRequest = options.signedRequest && parseSignedRequest(options.signedRequest);\r\n  if (this.signedRequest) {\r\n    this.accessToken = this.signedRequest.client.oauthToken;\r\n  }\r\n\r\n  if (options.userInfo) {\r\n    this.userInfo = options.userInfo;\r\n  }\r\n\r\n  this.limitInfo = {};\r\n\r\n  this.sobjects = {};\r\n  this.cache.clear();\r\n  this.cache.get('describeGlobal').on('value', _.bind(function(res) {\r\n    if (res.result) {\r\n      var types = _.map(res.result.sobjects, function(so) { return so.name; });\r\n      _.each(types, this.sobject, this);\r\n    }\r\n  }, this));\r\n\r\n  if (this.tooling) {\r\n    this.tooling.initialize();\r\n  }\r\n\r\n  this._sessionType = options.sessionId ? \"soap\" : \"oauth2\";\r\n\r\n};\r\n\r\n/** @private **/\r\nfunction oauthRefreshFn(conn, callback) {\r\n  conn.oauth2.refreshToken(conn.refreshToken, function(err, res) {\r\n    if (err) { return callback(err); }\r\n    var userInfo = parseIdUrl(res.id);\r\n    conn.initialize({\r\n      instanceUrl : res.instance_url,\r\n      accessToken : res.access_token,\r\n      userInfo : userInfo\r\n    });\r\n    callback(null, res.access_token, res);\r\n  });\r\n}\r\n\r\n/** @private **/\r\nfunction parseSignedRequest(sr) {\r\n  if (_.isString(sr)) {\r\n    if (sr[0] === '{') { // might be JSON\r\n      return JSON.parse(sr);\r\n    } else { // might be original base64-encoded signed request\r\n      var msg = sr.split('.').pop(); // retrieve latter part\r\n      var json = new Buffer(msg, 'base64').toString('utf-8');\r\n      return JSON.parse(json);\r\n    }\r\n    return null;\r\n  }\r\n  return sr;\r\n}\r\n\r\n\r\n/** @private **/\r\nConnection.prototype._baseUrl = function() {\r\n  return [ this.instanceUrl, \"services/data\", \"v\" + this.version ].join('/');\r\n};\r\n\r\n/**\r\n * Convert path to absolute url\r\n * @private\r\n */\r\nConnection.prototype._normalizeUrl = function(url) {\r\n  if (url[0] === '/') {\r\n    if (url.indexOf('/services/') === 0) {\r\n      return this.instanceUrl + url;\r\n    } else {\r\n      return this._baseUrl() + url;\r\n    }\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n\r\n/**\r\n * Send REST API request with given HTTP request info, with connected session information.\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String|Object} request - HTTP request object or URL to GET request\r\n * @param {String} request.method - HTTP method URL to send HTTP request\r\n * @param {String} request.url - URL to send HTTP request\r\n * @param {Object} [request.headers] - HTTP request headers in hash object (key-value)\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.request = function(request, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = null;\r\n  }\r\n  options = options || {};\r\n  var self = this;\r\n\r\n  // if request is simple string, regard it as url in GET method\r\n  if (_.isString(request)) {\r\n    request = { method: 'GET', url: request };\r\n  }\r\n  // if url is given in relative path, prepend base url or instance url before.\r\n  request.url = this._normalizeUrl(request.url);\r\n\r\n  var httpApi = new HttpApi(this, options);\r\n\r\n  // log api usage and its quota\r\n  httpApi.on('response', function(response) {\r\n    if (response.headers && response.headers[\"sforce-limit-info\"]) {\r\n      var apiUsage = response.headers[\"sforce-limit-info\"].match(/api\\-usage=(\\d+)\\/(\\d+)/);\r\n      if (apiUsage) {\r\n        self.limitInfo = {\r\n          apiUsage: {\r\n            used: parseInt(apiUsage[1], 10),\r\n            limit: parseInt(apiUsage[2], 10)\r\n          }\r\n        };\r\n      }\r\n    }\r\n  });\r\n  return httpApi.request(request).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Send HTTP GET request\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String} url - Endpoint URL to request HTTP GET\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.requestGet = function(url, options, callback) {\r\n  var request = {\r\n    method: \"GET\",\r\n    url: url\r\n  };\r\n  return this.request(request, options, callback);\r\n};\r\n\r\n\r\n/**\r\n * Send HTTP POST request with JSON body, with connected session information\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String} url - Endpoint URL to request HTTP POST\r\n * @param {Object} body - Any JS object which can be serialized to JSON\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.requestPost = function(url, body, options, callback) {\r\n  var request = {\r\n    method: \"POST\",\r\n    url: url,\r\n    body: JSON.stringify(body),\r\n    headers: { \"content-type\": \"application/json\" }\r\n  };\r\n  return this.request(request, options, callback);\r\n};\r\n\r\n/**\r\n * Send HTTP PUT request with JSON body, with connected session information\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String} url - Endpoint URL to request HTTP PUT\r\n * @param {Object} body - Any JS object which can be serialized to JSON\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.requestPut = function(url, body, options, callback) {\r\n  var request = {\r\n    method: \"PUT\",\r\n    url: url,\r\n    body: JSON.stringify(body),\r\n    headers: { \"content-type\": \"application/json\" }\r\n  };\r\n  return this.request(request, options, callback);\r\n};\r\n\r\n/**\r\n * Send HTTP PATCH request with JSON body\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String} url - Endpoint URL to request HTTP PATCH\r\n * @param {Object} body - Any JS object which can be serialized to JSON\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.requestPatch = function(url, body, options, callback) {\r\n  var request = {\r\n    method: \"PATCH\",\r\n    url: url,\r\n    body: JSON.stringify(body),\r\n    headers: { \"content-type\": \"application/json\" }\r\n  };\r\n  return this.request(request, options, callback);\r\n};\r\n\r\n/**\r\n * Send HTTP DELETE request\r\n *\r\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\r\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\r\n * , or relative path from version root ('/sobjects/Account/describe').\r\n *\r\n * @param {String} url - Endpoint URL to request HTTP DELETE\r\n * @param {Object} [options] - HTTP API request options\r\n * @param {Callback.<Object>} [callback] - Callback function\r\n * @returns {Promise.<Object>}\r\n */\r\nConnection.prototype.requestDelete = function(url, options, callback) {\r\n  var request = {\r\n    method: \"DELETE\",\r\n    url: url\r\n  };\r\n  return this.request(request, options, callback);\r\n};\r\n\r\n\r\n/** @private */\r\nfunction formatDate(date) {\r\n  function pad(number) {\r\n    if (number < 10) {\r\n      return '0' + number;\r\n    }\r\n    return number;\r\n  }\r\n\r\n  return date.getUTCFullYear() +\r\n    '-' + pad(date.getUTCMonth() + 1) +\r\n    '-' + pad(date.getUTCDate()) +\r\n    'T' + pad(date.getUTCHours()) +\r\n    ':' + pad(date.getUTCMinutes()) +\r\n    ':' + pad(date.getUTCSeconds()) +\r\n    '+00:00';\r\n}\r\n\r\n\r\n/** @private **/\r\nfunction parseIdUrl(idUrl) {\r\n  var idUrls = idUrl.split(\"/\");\r\n  var userId = idUrls.pop(), orgId = idUrls.pop();\r\n  return {\r\n    id: userId,\r\n    organizationId: orgId,\r\n    url: idUrl\r\n  };\r\n}\r\n\r\n/**\r\n * @callback Callback\r\n * @type {Function}\r\n * @param {Error} err - Callback error\r\n * @param {T} response - Callback response\r\n * @template T\r\n */\r\n\r\n/**\r\n * @typedef {Object} QueryResult\r\n * @prop {Boolean} done - Flag if the query is fetched all records or not\r\n * @prop {String} [nextRecordsUrl] - URL locator for next record set, (available when done = false)\r\n * @prop {Number} totalSize - Total size for query\r\n * @prop {Array.<Record>} [records] - Array of records fetched\r\n */\r\n\r\n/**\r\n * Execute query by using SOQL\r\n * \r\n * @param {String} soql - SOQL string\r\n * @param {Callback.<QueryResult>} [callback] - Callback function\r\n * @returns {Query.<QueryResult>}\r\n */\r\nConnection.prototype.query = function(soql, callback) {\r\n  var query = new Query(this, soql);\r\n  if (callback) {\r\n    query.run(callback);\r\n  }\r\n  return query;\r\n};\r\n\r\n/**\r\n * Execute query by using SOQL, including deleted records\r\n * \r\n * @param {String} soql - SOQL string\r\n * @param {Callback.<QueryResult>} [callback] - Callback function\r\n * @returns {Query.<QueryResult>}\r\n */\r\nConnection.prototype.queryAll = function(soql, callback) {\r\n  var query = new Query(this, soql);\r\n  query.scanAll(true);\r\n  if (callback) {\r\n    query.run(callback);\r\n  }\r\n  return query;\r\n};\r\n\r\n/**\r\n * Query next record set by using query locator\r\n * \r\n * @param {String} locator - Next record set locator\r\n * @param {Callback.<QueryResult>} [callback] - Callback function\r\n * @returns {Query.<QueryResult>}\r\n */\r\nConnection.prototype.queryMore = function(locator, callback) {\r\n  var query = new Query(this, null, locator);\r\n  if (callback) {\r\n    query.run(callback);\r\n  }\r\n  return query;\r\n};\r\n\r\n/**\r\n * Retrieve specified records\r\n *\r\n * @param {String} type - SObject Type\r\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\r\n * @returns {Promise.<Record|Array.<Record>>}\r\n */\r\nConnection.prototype.retrieve = function(type, ids, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  var self = this;\r\n  var isArray = _.isArray(ids);\r\n  ids = isArray ? ids : [ ids ];\r\n  if (ids.length > self.maxRequest) {\r\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\r\n  }\r\n  return Promise.all(\r\n    _.map(ids, function(id) {\r\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\r\n      return self.request(url);\r\n    })\r\n  ).then(function(results) {\r\n    return !isArray && _.isArray(results) ? results[0] : results;\r\n  }).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef RecordResult\r\n * @prop {Boolean} success - The result is succeessful or not\r\n * @prop {String} [id] - Record ID\r\n * @prop {Array.<String>} [errors] - Errors (available when success = false)\r\n */\r\n\r\n/**\r\n * Synonym of Connection#create()\r\n *\r\n * @method Connection#insert\r\n * @param {String} type - SObject Type\r\n * @param {Object|Array.<Object>} records - A record or array of records to create\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Create records\r\n *\r\n * @method Connection#create\r\n * @param {String} type - SObject Type\r\n * @param {Record|Array.<Record>} records - A record or array of records to create\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nConnection.prototype.insert =\r\nConnection.prototype.create = function(type, records, options, callback) {\r\n  if (!_.isString(type)) {\r\n    // reverse order\r\n    callback = options;\r\n    options = records;\r\n    records = type;\r\n    type = null;\r\n  }\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {};\r\n  var self = this;\r\n  var isArray = _.isArray(records);\r\n  records = isArray ? records : [ records ];\r\n  if (records.length > self.maxRequest) {\r\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\r\n  }\r\n  return Promise.all(\r\n    _.map(records, function(record) {\r\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\r\n      if (!sobjectType) {\r\n        throw new Error('No SObject Type defined in record');\r\n      }\r\n      record = _.clone(record);\r\n      delete record.Id;\r\n      delete record.type;\r\n      delete record.attributes;\r\n\r\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType ].join('/');\r\n      return self.request({\r\n        method : 'POST',\r\n        url : url,\r\n        body : JSON.stringify(record),\r\n        headers : _.defaults(options.headers || {}, {\r\n          \"Content-Type\" : \"application/json\"\r\n        })\r\n      });\r\n    })\r\n  ).then(function(results) {\r\n    return !isArray && _.isArray(results) ? results[0] : results;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Update records\r\n *\r\n * @param {String} type - SObject Type\r\n * @param {Record|Array.<Record>} records - A record or array of records to update\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nConnection.prototype.update = function(type, records, options, callback) {\r\n  if (!_.isString(type)) {\r\n    // reverse order\r\n    callback = options;\r\n    options = records;\r\n    records = type;\r\n    type = null;\r\n  }\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {};\r\n  var self = this;\r\n  var isArray = _.isArray(records);\r\n  records = isArray ? records : [ records ];\r\n  if (records.length > self.maxRequest) {\r\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\r\n  }\r\n  return Promise.all(\r\n    _.map(records, function(record) {\r\n      var id = record.Id;\r\n      if (!id) {\r\n        throw new Error('Record id is not found in record.');\r\n      }\r\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\r\n      if (!sobjectType) {\r\n        throw new Error('No SObject Type defined in record');\r\n      }\r\n      record = _.clone(record);\r\n      delete record.Id;\r\n      delete record.type;\r\n      delete record.attributes;\r\n\r\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, id ].join('/');\r\n      return self.request({\r\n        method : 'PATCH',\r\n        url : url,\r\n        body : JSON.stringify(record),\r\n        headers : _.defaults(options.headers || {}, {\r\n          \"Content-Type\" : \"application/json\"\r\n        })\r\n      }, {\r\n        noContentResponse: { id : id, success : true, errors : [] }\r\n      });\r\n    })\r\n  ).then(function(results) {\r\n    return !isArray && _.isArray(results) ? results[0] : results;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Upsert records\r\n *\r\n * @param {String} type - SObject Type\r\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\r\n * @param {String} extIdField - External ID field name\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nConnection.prototype.upsert = function(type, records, extIdField, options, callback) {\r\n  // You can omit \"type\" argument, when the record includes type information.\r\n  if (!_.isString(type)) {\r\n    // reverse order\r\n    callback = options;\r\n    options = extIdField;\r\n    extIdField = records;\r\n    records = type;\r\n    type = null;\r\n  }\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {};\r\n  var self = this;\r\n  var isArray = _.isArray(records);\r\n  records = isArray ? records : [ records ];\r\n  if (records.length > self.maxRequest) {\r\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\r\n  }\r\n  return Promise.all(\r\n    _.map(records, function(record) {\r\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\r\n      var extId = record[extIdField];\r\n      if (!extId) {\r\n        return Promise.reject(new Error('External ID is not defined in the record'));\r\n      }\r\n      record = _.clone(record);\r\n      delete record[extIdField];\r\n      delete record.type;\r\n      delete record.attributes;\r\n\r\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, extIdField, extId ].join('/');\r\n      return self.request({\r\n        method : 'PATCH',\r\n        url : url,\r\n        body : JSON.stringify(record),\r\n        headers : _.defaults(options.headers || {}, {\r\n          \"Content-Type\" : \"application/json\"\r\n        }) \r\n      }, {\r\n        noContentResponse: { success : true, errors : [] }\r\n      });\r\n    })\r\n  ).then(function(results) {\r\n    return !isArray && _.isArray(results) ? results[0] : results;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Synonym of Connection#destroy()\r\n *\r\n * @method Connection#delete\r\n * @param {String} type - SObject Type\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Synonym of Connection#destroy()\r\n *\r\n * @method Connection#del\r\n * @param {String} type - SObject Type\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Delete records\r\n *\r\n * @method Connection#destroy\r\n * @param {String} type - SObject Type\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nConnection.prototype[\"delete\"] =\r\nConnection.prototype.del =\r\nConnection.prototype.destroy = function(type, ids, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {};\r\n  var self = this;\r\n  var isArray = _.isArray(ids);\r\n  ids = isArray ? ids : [ ids ];\r\n  if (ids.length > self.maxRequest) {\r\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\r\n  }\r\n  return Promise.all(\r\n    _.map(ids, function(id) {\r\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\r\n      return self.request({\r\n        method : 'DELETE',\r\n        url : url,\r\n        headers: options.headers || null\r\n      }, {\r\n        noContentResponse: { id : id, success : true, errors : [] }\r\n      });\r\n    })\r\n  ).then(function(results) {\r\n    return !isArray && _.isArray(results) ? results[0] : results;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Execute search by SOSL\r\n * \r\n * @param {String} sosl - SOSL string\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<RecordResult>>}\r\n */\r\nConnection.prototype.search = function(sosl, callback) {\r\n  var url = this._baseUrl() + \"/search?q=\" + encodeURIComponent(sosl);\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Result returned by describeSObject call\r\n *\r\n * @typedef {Object} DescribeSObjectResult\r\n */\r\n/**\r\n * Synonym of Connection#describe()\r\n *\r\n * @method Connection#describeSObject\r\n * @param {String} type - SObject Type\r\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\r\n * @returns {Promise.<DescribeSObjectResult>}\r\n */\r\n/**\r\n * Describe SObject metadata\r\n *\r\n * @method Connection#describe\r\n * @param {String} type - SObject Type\r\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\r\n * @returns {Promise.<DescribeSObjectResult>}\r\n */\r\nConnection.prototype.describe = \r\nConnection.prototype.describeSObject = function(type, callback) {\r\n  var url = [ this._baseUrl(), \"sobjects\", type, \"describe\" ].join('/');\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * Result returned by describeGlobal call\r\n *\r\n * @typedef {Object} DescribeGlobalResult\r\n */\r\n/**\r\n * Describe global SObjects\r\n *\r\n * @param {Callback.<DescribeGlobalResult>} [callback] - Callback function\r\n * @returns {Promise.<DescribeGlobalResult>}\r\n */\r\nConnection.prototype.describeGlobal = function(callback) {\r\n  var url = this._baseUrl() + \"/sobjects\";\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * Get SObject instance\r\n *\r\n * @param {String} type - SObject Type\r\n * @returns {SObject}\r\n */\r\nConnection.prototype.sobject = function(type) {\r\n  this.sobjects = this.sobjects || {};\r\n  var sobject = this.sobjects[type] = \r\n    this.sobjects[type] || new SObject(this, type);\r\n  return sobject;\r\n};\r\n\r\n/**\r\n * Get identity information of current user\r\n *\r\n * @param {Callback.<IdentityInfo>} [callback] - Callback function\r\n * @returns {Promise.<IdentityInfo>}\r\n */\r\nConnection.prototype.identity = function(callback) {\r\n  var self = this;\r\n  var idUrl = this.userInfo && this.userInfo.url;\r\n  return new Promise(\r\n    idUrl ? \r\n    { identity: idUrl } :\r\n    this.request(this._baseUrl())\r\n  ).then(function(res) {\r\n    var url = res.identity;\r\n    url += '?format=json&oauth_token=' + encodeURIComponent(self.accessToken);\r\n    return self.request(url, null, { jsonp : 'callback' });\r\n  }).then(function(res) {\r\n    self.userInfo = {\r\n      id: res.user_id,\r\n      organizationId: res.organization_id,\r\n      url: res.id\r\n    };\r\n    return res;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * @typedef UserInfo\r\n * @prop {String} id - User ID\r\n * @prop {String} organizationId - Organization ID\r\n * @prop {String} url - Identity URL of the user\r\n */\r\n\r\n/**\r\n * Authorize (using oauth2 web server flow)\r\n *\r\n * @param {String} code - Authorization code\r\n * @param {Callback.<UserInfo>} [callback] - Callback function\r\n * @returns {Promise.<UserInfo>}\r\n */\r\nConnection.prototype.authorize = function(code, callback) {\r\n  var self = this;\r\n  var logger = this._logger;\r\n\r\n  return this.oauth2.requestToken(code).then(function(res) {\r\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\r\n    var userInfo = parseIdUrl(res.id);\r\n    self.initialize({\r\n      instanceUrl : res.instance_url,\r\n      accessToken : res.access_token,\r\n      refreshToken : res.refresh_token,\r\n      userInfo: userInfo\r\n    });\r\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\r\n    return userInfo;\r\n\r\n  }).thenCall(callback);\r\n\r\n};\r\n\r\n\r\n/**\r\n * Login to Salesforce\r\n * \r\n * @param {String} username - Salesforce username\r\n * @param {String} password - Salesforce password (and security token, if required)\r\n * @param {Callback.<UserInfo>} [callback] - Callback function\r\n * @returns {Promise.<UserInfo>}\r\n */\r\nConnection.prototype.login = function(username, password, callback) {\r\n  // register refreshDelegate for session expiration\r\n  this._refreshDelegate = new HttpApi.SessionRefreshDelegate(this, createUsernamePasswordRefreshFn(username, password));\r\n  if (this.oauth2 && this.oauth2.clientId && this.oauth2.clientSecret) {\r\n    return this.loginByOAuth2(username, password, callback);\r\n  } else {\r\n    return this.loginBySoap(username, password, callback);\r\n  }\r\n};\r\n\r\n/** @private **/\r\nfunction createUsernamePasswordRefreshFn(username, password) {\r\n  return function(conn, callback) {\r\n    conn.login(username, password, function(err) {\r\n      if (err) { return callback(err); }\r\n      callback(null, conn.accessToken);\r\n    });\r\n  };\r\n}\r\n\r\n/**\r\n * Login by OAuth2 username & password flow\r\n *\r\n * @param {String} username - Salesforce username\r\n * @param {String} password - Salesforce password (and security token, if required)\r\n * @param {Callback.<UserInfo>} [callback] - Callback function\r\n * @returns {Promise.<UserInfo>}\r\n */\r\nConnection.prototype.loginByOAuth2 = function(username, password, callback) {\r\n  var self = this;\r\n  var logger = this._logger;\r\n  return this.oauth2.authenticate(username, password).then(function(res) {\r\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\r\n    var userInfo = parseIdUrl(res.id);\r\n    self.initialize({\r\n      instanceUrl : res.instance_url,\r\n      accessToken : res.access_token,\r\n      userInfo: userInfo\r\n    });\r\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\r\n    return userInfo;\r\n\r\n  }).thenCall(callback);\r\n\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction esc(str) {\r\n  return str && String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;')\r\n                           .replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n}\r\n\r\n/**\r\n * Login by SOAP web service API\r\n *\r\n * @param {String} username - Salesforce username\r\n * @param {String} password - Salesforce password (and security token, if required)\r\n * @param {Callback.<UserInfo>} [callback] - Callback function\r\n * @returns {Promise.<UserInfo>}\r\n */\r\nConnection.prototype.loginBySoap = function(username, password, callback) {\r\n  var self = this;\r\n  var logger = this._logger;\r\n  var body = [\r\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\r\n      '<se:Header/>',\r\n      '<se:Body>',\r\n        '<login xmlns=\"urn:partner.soap.sforce.com\">',\r\n          '<username>' + esc(username) + '</username>',\r\n          '<password>' + esc(password) + '</password>',\r\n        '</login>',\r\n      '</se:Body>',\r\n    '</se:Envelope>'\r\n  ].join('');\r\n\r\n  var soapLoginEndpoint = [ this.loginUrl, \"services/Soap/u\", this.version ].join('/');\r\n\r\n  return this._transport.httpRequest({\r\n    method : 'POST',\r\n    url : soapLoginEndpoint,\r\n    body : body,\r\n    headers : {\r\n      \"Content-Type\" : \"text/xml\",\r\n      \"SOAPAction\" : '\"\"'\r\n    }\r\n  }).then(function(response) {\r\n    var m;\r\n    if (response.statusCode >= 400) {\r\n      m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\r\n      var faultstring = m && m[1];\r\n      throw new Error(faultstring || response.body);\r\n    }\r\n    logger.debug(\"SOAP response = \" + response.body);\r\n    m = response.body.match(/<serverUrl>([^<]+)<\\/serverUrl>/);\r\n    var serverUrl = m && m[1];\r\n    m = response.body.match(/<sessionId>([^<]+)<\\/sessionId>/);\r\n    var sessionId = m && m[1];\r\n    m = response.body.match(/<userId>([^<]+)<\\/userId>/);\r\n    var userId = m && m[1];\r\n    m = response.body.match(/<organizationId>([^<]+)<\\/organizationId>/);\r\n    var orgId = m && m[1];\r\n    var idUrl = soapLoginEndpoint.split('/').slice(0, 3).join('/');\r\n    idUrl += \"/id/\" + orgId + \"/\" + userId;\r\n    var userInfo = {\r\n      id: userId,\r\n      organizationId: orgId,\r\n      url: idUrl\r\n    };\r\n    self.initialize({ \r\n      serverUrl: serverUrl.split('/').slice(0, 3).join('/'), \r\n      sessionId: sessionId,\r\n      userInfo: userInfo\r\n    });\r\n    logger.debug(\"<login> completed. user id = \" + userId + \", org id = \" + orgId);\r\n    return userInfo;\r\n\r\n  }).thenCall(callback);\r\n\r\n};\r\n\r\n/**\r\n * Logout the current session\r\n *\r\n * @param {Callback.<undefined>} [callback] - Callback function\r\n * @returns {Promise.<undefined>}\r\n */\r\nConnection.prototype.logout = function(callback) {\r\n  if (this._sessionType === \"oauth2\") {\r\n    return this.logoutByOAuth2(callback);\r\n  } else {\r\n    return this.logoutBySoap(callback);\r\n  }\r\n};\r\n\r\n/**\r\n * Logout the current session by revoking access token via OAuth2 session revoke\r\n *\r\n * @param {Callback.<undefined>} [callback] - Callback function\r\n * @returns {Promise.<undefined>}\r\n */\r\nConnection.prototype.logoutByOAuth2 = function(callback) {\r\n  var self = this;\r\n  var logger = this._logger;\r\n\r\n  return this.oauth2.revokeToken(this.accessToken).then(function() {\r\n    // Destroy the session bound to this connection\r\n    self.accessToken = null;\r\n    self.userInfo = null;\r\n    self.refreshToken = null;\r\n    self.instanceUrl = null;\r\n    self.cache.clear();\r\n\r\n    // nothing useful returned by logout API, just return\r\n    return undefined;\r\n  }).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * Logout the session by using SOAP web service API\r\n *\r\n * @param {Callback.<undefined>} [callback] - Callback function\r\n * @returns {Promise.<undefined>}\r\n */\r\nConnection.prototype.logoutBySoap = function(callback) {\r\n  var self = this;\r\n  var logger = this._logger;\r\n\r\n  var body = [\r\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\r\n      '<se:Header>',\r\n        '<SessionHeader xmlns=\"urn:partner.soap.sforce.com\">',\r\n          '<sessionId>' + esc(this.accessToken) + '</sessionId>',\r\n        '</SessionHeader>',\r\n      '</se:Header>',\r\n      '<se:Body>',\r\n        '<logout xmlns=\"urn:partner.soap.sforce.com\"/>',\r\n      '</se:Body>',\r\n    '</se:Envelope>'\r\n  ].join('');\r\n\r\n  return this._transport.httpRequest({\r\n    method : 'POST',\r\n    url : [ this.instanceUrl, \"services/Soap/u\", this.version ].join('/'),\r\n    body : body,\r\n    headers : {\r\n      \"Content-Type\" : \"text/xml\",\r\n      \"SOAPAction\" : '\"\"'\r\n    }\r\n  }).then(function(response) {\r\n    logger.debug(\"SOAP statusCode = \" + response.statusCode + \", response = \" + response.body);\r\n    if (response.statusCode >= 400) {\r\n      var m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\r\n      var faultstring = m && m[1];\r\n      throw new Error(faultstring || response.body);\r\n    }\r\n\r\n    // Destroy the session bound to this connection\r\n    self.accessToken = null;\r\n    self.userInfo = null;\r\n    self.refreshToken = null;\r\n    self.instanceUrl = null;\r\n    self.cache.clear();\r\n\r\n    // nothing useful returned by logout API, just return\r\n    return undefined;\r\n\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * List recently viewed records\r\n * \r\n * @param {String} [type] - SObject type\r\n * @param {Number} [limit] - Limit num to fetch\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<RecordResult>>}\r\n */\r\nConnection.prototype.recent = function(type, limit, callback) {\r\n  if (!_.isString(type)) {\r\n    callback = limit;\r\n    limit = type;\r\n    type = undefined;\r\n  }\r\n  if (!_.isNumber(limit)) {\r\n    callback = limit;\r\n    limit = undefined;\r\n  }\r\n  var url;\r\n  if (type) {\r\n    url = [ this._baseUrl(), \"sobjects\", type ].join('/');\r\n    return this.request(url).then(function(res) {\r\n      return limit ? res.recentItems.slice(0, limit) : res.recentItems;\r\n    }).thenCall(callback);\r\n  } else {\r\n    url = this._baseUrl() + \"/recent\";\r\n    if (limit) { \r\n      url += \"?limit=\" + limit;\r\n    }\r\n    return this.request(url).thenCall(callback);\r\n  }\r\n\r\n};\r\n\r\n/**\r\n * @typedef {Object} UpdatedRecordsInfo\r\n * @prop {String} latestDateCovered - The timestamp of the last date covered. \r\n * @prop {Array.<String>} ids - Updated record IDs.\r\n */\r\n\r\n/**\r\n * Retrieve updated records\r\n *\r\n * @param {String} type - SObject Type\r\n * @param {String|Date} start - start date or string representing the start of the interval\r\n * @param {String|Date} end - start date or string representing the end of the interval must be > start\r\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\r\n * @returns {Promise.<UpdatedRecordsInfo>}\r\n */\r\nConnection.prototype.updated = function (type, start, end, callback) {\r\n  var url = [ this._baseUrl(), \"sobjects\", type, \"updated\" ].join('/');\r\n\r\n  if (typeof start === 'string') {\r\n    start = new Date(start);\r\n  }\r\n\r\n  if (start instanceof Date) {\r\n    start = formatDate(start);\r\n  }\r\n\r\n  if (start) {\r\n    url += \"?start=\" + encodeURIComponent(start);\r\n  }\r\n\r\n  if (typeof end === 'string') {\r\n    end = new Date(end);\r\n  }\r\n\r\n  if (end instanceof Date) {\r\n    end = formatDate(end);\r\n  }\r\n\r\n  if (end) {\r\n    url += \"&end=\" + encodeURIComponent(end);\r\n  }\r\n\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n/**\r\n * @typedef {Object} DeletedRecordsInfo\r\n * @prop {String} earliestDateAvailable - The timestamp of the earliest date available\r\n * @prop {String} latestDateCovered - The timestamp of the last date covered\r\n * @prop {Array.<Object>} deletedRecords - Updated records\r\n * @prop {String} deletedRecords.id - Record ID\r\n * @prop {String} deletedRecords.deletedDate - The timestamp when this record was deleted\r\n */\r\n\r\n/**\r\n * Retrieve deleted records\r\n *\r\n * @param {String} type - SObject Type\r\n * @param {String|Date} start - start date or string representing the start of the interval\r\n * @param {String|Date} end - start date or string representing the end of the interval\r\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\r\n * @returns {Promise.<DeletedRecordsInfo>}\r\n */\r\nConnection.prototype.deleted = function (type, start, end, callback) {\r\n  var url = [ this._baseUrl(), \"sobjects\", type, \"deleted\" ].join('/');\r\n\r\n  if (typeof start === 'string') {\r\n    start = new Date(start);\r\n  }\r\n\r\n  if (start instanceof Date) {\r\n    start = formatDate(start);\r\n  }\r\n\r\n  if (start) {\r\n    url += \"?start=\" + encodeURIComponent(start);\r\n  }\r\n\r\n  if (typeof end === 'string') {\r\n    end = new Date(end);\r\n  }\r\n\r\n  if (end instanceof Date) {\r\n    end = formatDate(end);\r\n  }\r\n\r\n  if (end) {\r\n    url += \"&end=\" + encodeURIComponent(end);\r\n  }\r\n\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef {Object} TabsInfo - See the API document for detail structure\r\n */\r\n\r\n/**\r\n * Returns a list of all tabs\r\n *\r\n * @param {Callback.<TabsInfo>} [callback] - Callback function\r\n * @returns {Promise.<TabsInfo>}\r\n */\r\nConnection.prototype.tabs = function(callback) {\r\n  var url = [ this._baseUrl(), \"tabs\" ].join('/');\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef {Object} LimitsInfo - See the API document for detail structure\r\n */\r\n\r\n/**\r\n * Returns curren system limit in the organization\r\n *\r\n * @param {Callback.<LimitsInfo>} [callback] - Callback function\r\n * @returns {Promise.<LimitsInfo>}\r\n */\r\nConnection.prototype.limits = function(callback) {\r\n  var url = [ this._baseUrl(), \"limits\" ].join('/');\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef {Object} ThemeInfo - See the API document for detail structure\r\n */\r\n\r\n/**\r\n * Returns a theme info\r\n *\r\n * @param {Callback.<ThemeInfo>} [callback] - Callback function\r\n * @returns {Promise.<ThemeInfo>}\r\n */\r\nConnection.prototype.theme = function(callback) {\r\n  var url = [ this._baseUrl(), \"theme\" ].join('/');\r\n  return this.request(url).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Returns all registered global quick actions \r\n *\r\n * @param {Callback.<Array.<QuickAction~QuickActionInfo>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<QuickAction~QuickActionInfo>>}\r\n */\r\nConnection.prototype.quickActions = function(callback) {\r\n  return this.request(\"/quickActions\").thenCall(callback);\r\n};\r\n\r\n/**\r\n * Get reference for specified global quick aciton\r\n *\r\n * @param {String} actionName - Name of the global quick action\r\n * @returns {QuickAction}\r\n */\r\nConnection.prototype.quickAction = function(actionName) {\r\n  return new QuickAction(this, \"/quickActions/\" + actionName);\r\n};\r\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"./cache\":5,\"./http-api\":10,\"./logger\":12,\"./oauth2\":13,\"./process\":14,\"./promise\":15,\"./query\":16,\"./quick-action\":17,\"./sobject\":20,\"./transport\":22,\"buffer\":25,\"events\":29,\"inherits\":38,\"underscore\":55}],7:[function(require,module,exports){\nmodule.exports = function(name) { return require(name); };\nrequire(\"events\");\nrequire(\"inherits\");\nrequire(\"underscore\");\nrequire(\"./promise\");\nrequire(\"./logger\");\nrequire(\"./oauth2\");\nrequire(\"./query\");\nrequire(\"./sobject\");\nrequire(\"./quick-action\");\nrequire(\"./http-api\");\nrequire(\"./transport\");\nrequire(\"./cache\");\nrequire(\"./process\");\nrequire(\"./date\");\nrequire(\"xml2js\");\nrequire(\"./csv\");\nrequire(\"./connection\");\nrequire(\"./record-stream\");\nrequire(\"querystring\");\nrequire(\"q\");\nrequire(\"readable-stream\");\nrequire(\"./soql-builder\");\nrequire(\"through2\");\nrequire(\"./record\");\nrequire(\"request\");\nrequire(\"./browser/canvas\");\nrequire(\"./browser/jsonp\");\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./cache\":5,\"./connection\":6,\"./csv\":8,\"./date\":9,\"./http-api\":10,\"./logger\":12,\"./oauth2\":13,\"./process\":14,\"./promise\":15,\"./query\":16,\"./quick-action\":17,\"./record\":19,\"./record-stream\":18,\"./sobject\":20,\"./soql-builder\":21,\"./transport\":22,\"events\":29,\"inherits\":38,\"q\":39,\"querystring\":33,\"readable-stream\":50,\"request\":23,\"through2\":54,\"underscore\":55,\"xml2js\":58}],8:[function(require,module,exports){\n'use strict';\r\n\r\nvar _      = require('underscore'),\r\n    SfDate = require('./date');\r\n\r\n/**\r\n * @private\r\n */\r\nfunction toCSV(records, headers, options) {\r\n  options = options || {};\r\n  if (!headers) {\r\n    headers = extractHeaders(records, options);\r\n  }\r\n  var rows = _.map(records, function(record){ return recordToCSV(record, headers, options); });\r\n  return arrayToCSV(headers) + \"\\n\" + rows.join(\"\\n\");\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\nfunction extractHeaders(records, options) {\r\n  options = options || {};\r\n  var headers = {};\r\n  _.forEach(records, function(record) {\r\n    for (var key in record) {\r\n      var value = record[key];\r\n      if (record.hasOwnProperty(key) && (value === null || typeof value !== 'object')) {\r\n        headers[key] = true;\r\n      }\r\n    }\r\n  });\r\n  return _.keys(headers);\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\nfunction recordToCSV(record, headers, options) {\r\n  options = options || {};\r\n  var row = [];\r\n  _.forEach(headers, function(header) {\r\n    var value = record[header];\r\n    if (value === null && typeof options.nullValue !== 'undefined') {\r\n      value = options.nullValue;\r\n    }\r\n    if (typeof value === 'undefined') { value = null; }\r\n    row.push(value);\r\n  });\r\n  return arrayToCSV(row);\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\nfunction arrayToCSV(arr) {\r\n  return _.map(arr, escapeCSV).join(',');\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\nfunction escapeCSV(str) {\r\n  if (str === null || typeof str === 'undefined') { str = ''; }\r\n  str = String(str);\r\n  if (str.indexOf('\"') >= 0 || str.indexOf(',') >= 0 || /[\\n\\r]/.test(str)) {\r\n    str = '\"' + str.replace(/\"/g, '\"\"') + '\"';\r\n  }\r\n  return str;\r\n}\r\n\r\n\r\n\r\n/**\r\n * @private\r\n * @class\r\n * @constructor\r\n * @param {String} text - CSV string\r\n */\r\nvar CSVParser = function(text) {\r\n  this.text = text;\r\n  this.cursor = 0;\r\n};\r\n\r\nCSVParser.prototype = {\r\n\r\n  nextToken : function() {\r\n    var cell;\r\n    var dquoted = false;\r\n    var firstChar = this.text.charAt(this.cursor);\r\n    if (firstChar === '' || firstChar === '\\r' || firstChar === '\\n') {\r\n      return null;\r\n    }\r\n    if (firstChar === '\"') {\r\n      dquoted = true;\r\n    }\r\n    if (dquoted) {\r\n      var dq = this.cursor;\r\n      while(true) {\r\n        dq++;\r\n        dq = this.text.indexOf('\"', dq);\r\n        if (dq<0 || this.text.charAt(dq+1) !== '\"') {\r\n          break;\r\n        } else {\r\n          dq++;\r\n        }\r\n      }\r\n      if (dq>=0) {\r\n        var delim = this.text.charAt(dq+1);\r\n        cell = this.text.substring(this.cursor, dq+1);\r\n        this.cursor = dq + (delim === ',' ? 2 : 1);\r\n      } else {\r\n        cell = this.text.substring(this.cursor);\r\n        this.cursor = this.text.length;\r\n      }\r\n      return cell.replace(/\"\"/g,'\"').replace(/^\"/,'').replace(/\"$/,'');\r\n    } else {\r\n      var comma = this.text.indexOf(',', this.cursor);\r\n      var cr = this.text.indexOf('\\r', this.cursor);\r\n      var lf = this.text.indexOf('\\n', this.cursor);\r\n      comma = comma<0 ? this.text.length+1 : comma;\r\n      cr = cr<0 ? this.text.length+1 : cr;\r\n      lf = lf<0 ? this.text.length+1 : lf;\r\n      var pivot = Math.min(comma, cr, lf, this.text.length);\r\n      cell = this.text.substring(this.cursor, pivot);\r\n      this.cursor = pivot;\r\n      if (comma === pivot) {\r\n        this.cursor++;\r\n      }\r\n      return cell;\r\n    }\r\n  },\r\n\r\n  nextLine : function() {\r\n    for (var c = this.text.charAt(this.cursor);\r\n        c === '\\r' || c === '\\n';\r\n        c = this.text.charAt(++this.cursor))\r\n      {}\r\n    return this.cursor !== this.text.length;\r\n  }\r\n\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nfunction parseCSV(str) {\r\n  var parser = new CSVParser(str);\r\n  var headers = [];\r\n  var token;\r\n  if (parser.nextLine()) {\r\n    token = parser.nextToken();\r\n    while (!_.isUndefined(token) && !_.isNull(token)) {\r\n      headers.push(token);\r\n      token = parser.nextToken();\r\n    }\r\n  }\r\n  var rows = [];\r\n  while (parser.nextLine()) {\r\n    var row = {};\r\n    token = parser.nextToken();\r\n    var i = 0;\r\n    while (!_.isUndefined(token) && !_.isNull(token)) {\r\n      var header = headers[i++];\r\n      row[header] = token;\r\n      token = parser.nextToken();\r\n    }\r\n    rows.push(row);\r\n  }\r\n  return rows;\r\n}\r\n\r\n\r\n/**\r\n * @protected\r\n */\r\nmodule.exports = {\r\n  toCSV : toCSV,\r\n  extractHeaders : extractHeaders,\r\n  recordToCSV : recordToCSV,\r\n  arrayToCSV : arrayToCSV,\r\n  parseCSV : parseCSV\r\n};\r\n  \n},{\"./date\":9,\"underscore\":55}],9:[function(require,module,exports){\n'use strict';\r\n\r\nvar _ = require(\"underscore\")._;\r\n\r\n/**\r\n * A date object to keep Salesforce date literal\r\n *\r\n * @class\r\n * @constructor\r\n * @see http://www.salesforce.com/us/developer/docs/soql_sosl/Content/sforce_api_calls_soql_select_dateformats.htm\r\n */\r\nvar SfDate = module.exports = function(literal) {\r\n  this._literal = literal;\r\n};\r\n\r\n/**\r\n * Returns literal when converted to string\r\n *\r\n * @override\r\n */\r\nSfDate.prototype.toString =\r\nSfDate.prototype.toJSON = function() { return this._literal; };\r\n\r\n\r\n/** @private **/\r\nfunction zeropad(n) { return (n<10 ? \"0\" : \"\") + n; }\r\n\r\n/**\r\n * Convert JavaScript date object to ISO8601 Date format (e.g. 2012-10-31)\r\n *\r\n * @param {String|Number|Date} date - Input date\r\n * @returns {SfDate} - Salesforce date literal with ISO8601 date format\r\n */\r\nSfDate.toDateLiteral = function(date) {\r\n  if (_.isNumber(date)) {\r\n    date = new Date(date);\r\n  } else if (_.isString(date)) {\r\n    date = SfDate.parseDate(date);\r\n  }\r\n  var yy = date.getFullYear();\r\n  var mm = date.getMonth()+1;\r\n  var dd = date.getDate();\r\n  var dstr = [ yy, zeropad(mm), zeropad(dd) ].join(\"-\");\r\n  return new SfDate(dstr);\r\n};\r\n\r\n/**\r\n * Convert JavaScript date object to ISO8601 DateTime format\r\n * (e.g. 2012-10-31T12:34:56Z)\r\n *\r\n * @param {String|Number|Date} date - Input date\r\n * @returns {SfDate} - Salesforce date literal with ISO8601 datetime format\r\n */\r\nSfDate.toDateTimeLiteral = function(date) {\r\n  if (_.isNumber(date)) {\r\n    date = new Date(date);\r\n  } else if (_.isString(date)) {\r\n    date = SfDate.parseDate(date);\r\n  }\r\n  var yy = date.getUTCFullYear();\r\n  var mm = date.getUTCMonth()+1;\r\n  var dd = date.getUTCDate();\r\n  var hh = date.getUTCHours();\r\n  var mi = date.getUTCMinutes();\r\n  var ss = date.getUTCSeconds();\r\n  var dtstr =\r\n    [ yy, zeropad(mm), zeropad(dd) ].join(\"-\") + \"T\" +\r\n    [ zeropad(hh), zeropad(mi), zeropad(ss) ].join(\":\") + \"Z\";\r\n  return new SfDate(dtstr);\r\n};\r\n\r\n/**\r\n * Parse IS08601 date(time) formatted string and return date instance\r\n *\r\n * @param {String} str\r\n * @returns {Date}\r\n */\r\nSfDate.parseDate = function(str) {\r\n  var d = new Date();\r\n  var regexp = /^([\\d]{4})-?([\\d]{2})-?([\\d]{2})(T([\\d]{2}):?([\\d]{2}):?([\\d]{2})(.([\\d]{3}))?(Z|([\\+\\-])([\\d]{2}):?([\\d]{2})))?$/;\r\n  var m = str.match(regexp);\r\n  if (m) {\r\n    d = new Date(0);\r\n    if (!m[4]) {\r\n      d.setFullYear(parseInt(m[1], 10));\r\n      d.setDate(parseInt(m[3], 10));\r\n      d.setMonth(parseInt(m[2], 10) - 1);\r\n      d.setHours(0);\r\n      d.setMinutes(0);\r\n      d.setSeconds(0);\r\n      d.setMilliseconds(0);\r\n    } else {\r\n      d.setUTCFullYear(parseInt(m[1], 10));\r\n      d.setUTCDate(parseInt(m[3], 10));\r\n      d.setUTCMonth(parseInt(m[2], 10) - 1);\r\n      d.setUTCHours(parseInt(m[5], 10));\r\n      d.setUTCMinutes(parseInt(m[6], 10));\r\n      d.setUTCSeconds(parseInt(m[7], 10));\r\n      d.setUTCMilliseconds(parseInt(m[9] || '0', 10));\r\n      if (m[10] && m[10] !== 'Z') {\r\n        var offset = parseInt(m[12],10) * 60 + parseInt(m[13], 10);\r\n        d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 +d.getTime());\r\n      }\r\n    }\r\n    return d;\r\n  } else {\r\n    throw new Error(\"Invalid date format is specified : \" + str);\r\n  }\r\n};\r\n\r\n/*\r\n * Pre-defined Salesforce Date Literals\r\n */\r\nvar SfDateLiterals = {\r\n  YESTERDAY: 1,\r\n  TODAY: 1,\r\n  TOMORROW: 1,\r\n  LAST_WEEK: 1,\r\n  THIS_WEEK: 1,\r\n  NEXT_WEEK: 1,\r\n  LAST_MONTH: 1,\r\n  THIS_MONTH: 1,\r\n  NEXT_MONTH: 1,\r\n  LAST_90_DAYS: 1,\r\n  NEXT_90_DAYS: 1,\r\n  LAST_N_DAYS: 2,\r\n  NEXT_N_DAYS: 2,\r\n  NEXT_N_WEEKS: 2,\r\n  LAST_N_WEEKS: 2,\r\n  NEXT_N_MONTHS: 2,\r\n  LAST_N_MONTHS: 2,\r\n  THIS_QUARTER: 1,\r\n  LAST_QUARTER: 1,\r\n  NEXT_QUARTER: 1,\r\n  NEXT_N_QUARTERS: 2,\r\n  LAST_N_QUARTERS: 2,\r\n  THIS_YEAR: 1,\r\n  LAST_YEAR: 1,\r\n  NEXT_YEAR: 1,\r\n  NEXT_N_YEARS: 2,\r\n  LAST_N_YEARS: 2,\r\n  THIS_FISCAL_QUARTER: 1,\r\n  LAST_FISCAL_QUARTER: 1,\r\n  NEXT_FISCAL_QUARTER: 1,\r\n  NEXT_N_FISCAL_QUARTERS:2,\r\n  LAST_N_FISCAL_QUARTERS:2,\r\n  THIS_FISCAL_YEAR:1,\r\n  LAST_FISCAL_YEAR:1,\r\n  NEXT_FISCAL_YEAR:1,\r\n  NEXT_N_FISCAL_YEARS: 2,\r\n  LAST_N_FISCAL_YEARS: 2\r\n};\r\n\r\nfor (var literal in SfDateLiterals) {\r\n  var type = SfDateLiterals[literal];\r\n  SfDate[literal] =\r\n   type === 1 ? new SfDate(literal) : createLiteralBuilder(literal);\r\n}\r\n\r\n/** @private **/\r\nfunction createLiteralBuilder(literal) {\r\n  return function(num) { return new SfDate(literal + \":\" + num); };\r\n}\r\n\n},{\"underscore\":55}],10:[function(require,module,exports){\n'use strict';\r\n\r\nvar inherits = require('inherits'),\r\n    events = require('events'),\r\n    _ = require('underscore'),\r\n    Promise = require('./promise');\r\n\r\n/**\r\n * HTTP based API class with authorization hook\r\n *\r\n * @constructor\r\n * @extends events.EventEmitter\r\n * @param {Connection} conn - Connection object\r\n * @param {Object} [options] - Http API Options\r\n * @param {String} [options.responseType] - Overriding content mime-type in response\r\n * @param {Transport} [options.transport] - Transport for http api\r\n * @param {Object} [options.noContentResponse] - Alternative response when no content returned in response (= HTTP 204)\r\n */\r\nvar HttpApi = function(conn, options) {\r\n  options = options || {};\r\n  this._conn = conn;\r\n  this.on('resume', function(err) { conn.emit('resume', err); });\r\n  this._responseType = options.responseType;\r\n  this._transport = options.transport || conn._transport;\r\n  this._noContentResponse = options.noContentResponse;\r\n};\r\n\r\ninherits(HttpApi, events.EventEmitter);\r\n\r\n/**\r\n * Callout to API endpoint using http\r\n *\r\n * @param {Object} request - Http Request object\r\n * @param {String} request.url - Endpoint URL to request\r\n * @param {String} request.method - Http method for request\r\n * @param {Object} [request.headers] - Http request headers in hash object\r\n * @param {Callback.<Object>} callback - Callback function\r\n * @returns {Promise.<Object>} - \r\n */\r\nHttpApi.prototype.request = function(request, callback) {\r\n  var self = this;\r\n  var conn = this._conn;\r\n  var logger = conn._logger;\r\n  var refreshDelegate = this.getRefreshDelegate();\r\n\r\n  var deferred = Promise.defer();\r\n\r\n  var onResume = function(err) {\r\n    if (err) {\r\n      deferred.reject(err);\r\n      return;\r\n    }\r\n    self.request(request).then(function(response) {\r\n      deferred.resolve(response);\r\n    }, function(err) {\r\n      deferred.reject(err);\r\n    });\r\n  };\r\n\r\n  if (refreshDelegate && refreshDelegate._refreshing) {\r\n    refreshDelegate.once('resume', onResume);\r\n    return deferred.promise.thenCall(callback);\r\n  }\r\n\r\n  // hook before sending\r\n  self.beforeSend(request);\r\n\r\n  self.emit('request', request);\r\n  logger.debug(\"<request> method=\" + request.method + \", url=\" + request.url);\r\n  var requestTime = Date.now();\r\n\r\n  return this._transport.httpRequest(request).then(function(response) {\r\n    var responseTime = Date.now();\r\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\r\n    logger.debug(\"<response> status=\" + response.statusCode + \", url=\" + request.url);\r\n\r\n    self.emit('response', response);\r\n    // Refresh token if session has been expired and requires authentication\r\n    // when session refresh delegate is available\r\n    if (self.isSessionExpired(response) && refreshDelegate) {\r\n      refreshDelegate.refresh(requestTime, onResume);\r\n      return deferred.promise;\r\n    }\r\n    if (self.isErrorResponse(response)) {\r\n      var err = self.getError(response);\r\n      throw err;\r\n    }\r\n    return self.getResponseBody(response);\r\n  }, function(err) {\r\n    var responseTime = Date.now();\r\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\r\n    logger.error(err);\r\n    throw err;\r\n  })\r\n  .thenCall(callback);\r\n};\r\n\r\n/**\r\n * @protected\r\n */\r\nHttpApi.prototype.getRefreshDelegate = function() {\r\n  return this._conn._refreshDelegate;\r\n};\r\n\r\n/**\r\n *\r\n * @protected\r\n */\r\nHttpApi.prototype.beforeSend = function(request) {\r\n  request.headers = request.headers || {};\r\n  if (this._conn.accessToken) {\r\n    request.headers.Authorization = \"Bearer \" + this._conn.accessToken;\r\n  }\r\n  if (this._conn.callOptions) {\r\n    var callOptions = [];\r\n    for (var name in this._conn.callOptions) {\r\n      callOptions.push(name + \"=\" + this._conn.callOptions[name]);\r\n    }\r\n    request.headers[\"Sforce-Call-Options\"] = callOptions.join(', ');\r\n  }\r\n};\r\n\r\n/**\r\n * Detect response content mime-type\r\n * @protected\r\n */\r\nHttpApi.prototype.getResponseContentType = function(response) {\r\n  return this._responseType || response.headers && response.headers[\"content-type\"];\r\n};\r\n\r\n/**\r\n *\r\n */\r\nHttpApi.prototype.parseResponseBody = function(response) {\r\n  var contentType = this.getResponseContentType(response);\r\n  var parseBody = /^(text|application)\\/xml(;|$)/.test(contentType) ? parseXML :\r\n         /^application\\/json(;|$)/.test(contentType) ? parseJSON :\r\n         /^text\\/csv(;|$)/.test(contentType) ? parseCSV :\r\n         parseText;\r\n  try {\r\n    return parseBody(response.body);\r\n  } catch(e) {\r\n    return response.body;\r\n  }\r\n};\r\n\r\n/**\r\n * Get response body\r\n * @protected\r\n */\r\nHttpApi.prototype.getResponseBody = function(response) {\r\n  if (response.statusCode === 204) { // No Content\r\n    return this._noContentResponse;\r\n  }\r\n  var body = this.parseResponseBody(response);\r\n  var err;\r\n  if (this.hasErrorInResponseBody(body)) {\r\n    err = this.getError(response, body);\r\n    throw err;\r\n  }\r\n  if (response.statusCode === 300) { // Multiple Choices\r\n    err = new Error('Multiple records found');\r\n    err.name = \"MULTIPLE_CHOICES\";\r\n    err.content = body;\r\n    throw err;\r\n  }\r\n  return body;\r\n};\r\n\r\n/** @private */\r\nfunction parseJSON(str) {\r\n  return JSON.parse(str);\r\n}\r\n\r\n/** @private */\r\nfunction parseXML(str) {\r\n  var ret = {};\r\n  require('xml2js').parseString(str, { explicitArray: false }, function(err, result) {\r\n    ret = { error: err, result : result };\r\n  });\r\n  if (ret.error) { throw ret.error; }\r\n  return ret.result;\r\n}\r\n\r\n/** @private */\r\nfunction parseCSV(str) {\r\n  return require('./csv').parseCSV(str);\r\n}\r\n\r\n/** @private */\r\nfunction parseText(str) { return str; }\r\n\r\n\r\n/**\r\n * Detect session expiry\r\n * @protected\r\n */\r\nHttpApi.prototype.isSessionExpired = function(response) {\r\n  return response.statusCode === 401;\r\n};\r\n\r\n/**\r\n * Detect error response\r\n * @protected\r\n */\r\nHttpApi.prototype.isErrorResponse = function(response) {\r\n  return response.statusCode >= 400;\r\n};\r\n\r\n/**\r\n * Detect error in response body\r\n * @protected\r\n */\r\nHttpApi.prototype.hasErrorInResponseBody = function(body) {\r\n  return false;\r\n};\r\n\r\n/**\r\n * Parsing error message in response\r\n * @protected\r\n */\r\nHttpApi.prototype.parseError = function(body) {\r\n  var errors = body;\r\n  return _.isArray(errors) ? errors[0] : errors;\r\n};\r\n\r\n/**\r\n * Get error message in response\r\n * @protected\r\n */\r\nHttpApi.prototype.getError = function(response, body) {\r\n  var error;\r\n  try {\r\n    error = this.parseError(body || this.parseResponseBody(response));\r\n  } catch(e) {}\r\n  error = _.isObject(error) && _.isString(error.message) ? error : {\r\n    errorCode: 'ERROR_HTTP_' + response.statusCode,\r\n    message : response.body\r\n  };\r\n  var err = new Error(error.message);\r\n  err.name = error.errorCode;\r\n  for (var key in error) { err[key] = error[key]; }\r\n  return err;\r\n};\r\n\r\n/*-------------------------------------------------------------------------*/\r\n\r\n/**\r\n * @protected\r\n */\r\nvar SessionRefreshDelegate = function(conn, refreshFn) {\r\n  this._conn = conn;\r\n  this._refreshFn = refreshFn;\r\n  this._refreshing = false;\r\n};\r\n\r\ninherits(SessionRefreshDelegate, events.EventEmitter);\r\n\r\n/**\r\n * Refresh access token\r\n * @private\r\n */\r\nSessionRefreshDelegate.prototype.refresh = function(since, callback) {\r\n  // Callback immediately When refreshed after designated time\r\n  if (this._lastRefreshedAt > since) { return callback(); }\r\n  var self = this;\r\n  var conn = this._conn;\r\n  var logger = conn._logger;\r\n  self.once('resume', callback);\r\n  if (self._refreshing) { return; }\r\n  logger.debug(\"<refresh token>\");\r\n  self._refreshing = true;\r\n  return self._refreshFn(conn, function(err, accessToken, res) {\r\n    if (!err) {\r\n      logger.debug(\"Connection refresh completed. Refreshed access token = \" + accessToken);\r\n      conn.accessToken = accessToken;\r\n      conn.emit(\"refresh\", accessToken, res);\r\n    }\r\n    self._lastRefreshedAt = Date.now();\r\n    self._refreshing = false;\r\n    self.emit('resume', err);\r\n  });\r\n};\r\n\r\n\r\n/**\r\n *\r\n */\r\nHttpApi.SessionRefreshDelegate = SessionRefreshDelegate;\r\nmodule.exports = HttpApi;\n},{\"./csv\":8,\"./promise\":15,\"events\":29,\"inherits\":38,\"underscore\":55,\"xml2js\":58}],11:[function(require,module,exports){\n/**\r\n * @file JSforce API root object\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nexports.Connection = require('./connection');\r\nexports.OAuth2 = require('./oauth2');\r\nexports.Date = exports.SfDate = require(\"./date\");\r\nexports.RecordStream = require('./record-stream');\r\n\n},{\"./connection\":6,\"./date\":9,\"./oauth2\":13,\"./record-stream\":18}],12:[function(require,module,exports){\n'use strict';\r\n\r\n/**\r\n * @protected\r\n * @class\r\n * @constructor\r\n * @param {String|Number} logLevel - Log level\r\n */\r\nvar Logger = module.exports = function(logLevel) {\r\n  if (typeof logLevel === 'string') {\r\n    logLevel = LogLevels[logLevel];\r\n  }\r\n  if (!logLevel) {\r\n    logLevel = LogLevels.INFO;\r\n  }\r\n  this._logLevel = logLevel;\r\n};\r\n\r\n/**\r\n * @memberof Logger\r\n */\r\nvar LogLevels = Logger.LogLevels = {\r\n  \"DEBUG\" : 1,\r\n  \"INFO\" : 2,\r\n  \"WARN\" : 3,\r\n  \"ERROR\" : 4,\r\n  \"FATAL\" : 5\r\n};\r\n\r\n/**\r\n * Output log\r\n *\r\n * @param {String} level - Logging target level\r\n * @param {String} message - Message to log\r\n */\r\nLogger.prototype.log = function(level, message) {\r\n  if (this._logLevel <= level) {\r\n    if (level < LogLevels.ERROR) {\r\n      console.log(message);\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }\r\n};\r\n\r\nfor (var level in LogLevels) {\r\n  Logger.prototype[level.toLowerCase()] = createLoggerFunction(LogLevels[level]);\r\n}\r\n\r\nfunction createLoggerFunction(level) {\r\n  return function(message) { this.log(level, message); };\r\n}\r\n\n},{}],13:[function(require,module,exports){\n/**\r\n * @file Manages Salesforce OAuth2 operations\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar querystring = require('querystring'),\r\n    _ = require('underscore'),\r\n    Transport = require('./transport');\r\n\r\nvar defaults = {\r\n  loginUrl : \"https://login.salesforce.com\"\r\n};\r\n\r\n/**\r\n * OAuth2 class\r\n *\r\n * @class\r\n * @constructor\r\n * @param {Object} options - OAuth2 config options\r\n * @param {String} [options.loginUrl] - Salesforce login server URL\r\n * @param {String} [options.authzServiceUrl] - OAuth2 authorization service URL. If not specified, it generates from default by adding to login server URL.\r\n * @param {String} [options.tokenServiceUrl] - OAuth2 token service URL. If not specified it generates from default by adding to login server URL.\r\n * @param {String} options.clientId - OAuth2 client ID.\r\n * @param {String} options.clientSecret - OAuth2 client secret.\r\n * @param {String} options.redirectUri - URI to be callbacked from Salesforce OAuth2 authorization service.\r\n */\r\nvar OAuth2 = module.exports = function(options) {\r\n  if (options.authzServiceUrl && options.tokenServiceUrl) {\r\n    this.loginUrl = options.authzServiceUrl.split('/').slice(0, 3).join('/');\r\n    this.authzServiceUrl = options.authzServiceUrl;\r\n    this.tokenServiceUrl = options.tokenServiceUrl;\r\n    this.revokeServiceUrl = options.revokeServiceUrl;\r\n  } else {\r\n    this.loginUrl = options.loginUrl || defaults.loginUrl;\r\n    this.authzServiceUrl = this.loginUrl + \"/services/oauth2/authorize\";\r\n    this.tokenServiceUrl = this.loginUrl + \"/services/oauth2/token\";\r\n    this.revokeServiceUrl = this.loginUrl + \"/services/oauth2/revoke\";\r\n  }\r\n  this.clientId = options.clientId;\r\n  this.clientSecret = options.clientSecret;\r\n  this.redirectUri = options.redirectUri;\r\n  this._transport =\r\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\r\n};\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\n_.extend(OAuth2.prototype, /** @lends OAuth2.prototype **/ {\r\n  \r\n  /**\r\n   * Get Salesforce OAuth2 authorization page URL to redirect user agent.\r\n   *\r\n   * @param {Object} params - Parameters\r\n   * @param {String} params.scope - Scope values in space-separated string\r\n   * @param {String} params.state - State parameter\r\n   * @returns {String} Authorization page URL\r\n   */\r\n  getAuthorizationUrl : function(params) {\r\n    params = _.extend({\r\n      response_type : \"code\",\r\n      client_id : this.clientId,\r\n      redirect_uri : this.redirectUri\r\n    }, params || {});\r\n    return this.authzServiceUrl + \r\n      (this.authzServiceUrl.indexOf('?') >= 0 ? \"&\" : \"?\") + \r\n      querystring.stringify(params);\r\n  },\r\n\r\n  /**\r\n   * @typedef TokenResponse\r\n   * @type {Object}\r\n   * @property {String} access_token\r\n   * @property {String} refresh_token\r\n   */\r\n\r\n  /**\r\n   * OAuth2 Refresh Token Flow\r\n   * \r\n   * @param {String} refreshToken - Refresh token\r\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\r\n   * @returns {Promise.<TokenResponse>}\r\n   */\r\n  refreshToken : function(refreshToken, callback) {\r\n    return this._postParams({\r\n      grant_type : \"refresh_token\",\r\n      refresh_token : refreshToken,\r\n      client_id : this.clientId,\r\n      client_secret : this.clientSecret\r\n    }, callback);\r\n  },\r\n\r\n  /**\r\n   * OAuth2 Web Server Authentication Flow (Authorization Code)\r\n   * Access Token Request\r\n   *\r\n   * @param {String} code - Authorization code\r\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\r\n   * @returns {Promise.<TokenResponse>}\r\n   */\r\n  requestToken : function(code, callback) {\r\n    return this._postParams({\r\n      grant_type : \"authorization_code\",\r\n      code : code,\r\n      client_id : this.clientId,\r\n      client_secret : this.clientSecret,\r\n      redirect_uri : this.redirectUri\r\n    }, callback);\r\n  },\r\n\r\n  /**\r\n   * OAuth2 Username-Password Flow (Resource Owner Password Credentials)\r\n   *\r\n   * @param {String} username - Salesforce username\r\n   * @param {String} password - Salesforce password \r\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\r\n   * @returns {Promise.<TokenResponse>}\r\n   */\r\n  authenticate : function(username, password, callback) {\r\n    return this._postParams({\r\n      grant_type : \"password\",\r\n      username : username,\r\n      password : password,\r\n      client_id : this.clientId,\r\n      client_secret : this.clientSecret,\r\n      redirect_uri : this.redirectUri\r\n    }, callback);\r\n  },\r\n\r\n  /**\r\n   * OAuth2 Revoke Session Token\r\n   *\r\n   * @param {String} accessToken - Access token to revoke\r\n   * @param {Callback.<undefined>} [callback] - Callback function\r\n   * @returns {Promise.<undefined>}\r\n   */\r\n  revokeToken : function(accessToken, callback) {\r\n    return this._transport.httpRequest({\r\n      method : 'POST',\r\n      url : this.revokeServiceUrl,\r\n      body: querystring.stringify({ token: accessToken }),\r\n      headers: {\r\n        \"content-type\" : \"application/x-www-form-urlencoded\"\r\n      }\r\n    }).then(function(response) {\r\n      if (response.statusCode >= 400) {\r\n        var res = querystring.parse(response.body);\r\n        if (!res || !res.error) {\r\n          res = { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\r\n        }\r\n        var err = new Error(res.error_description);\r\n        err.name = res.error;\r\n        throw err;\r\n      }\r\n    }).thenCall(callback);\r\n  },\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _postParams : function(params, callback) {\r\n    return this._transport.httpRequest({\r\n      method : 'POST',\r\n      url : this.tokenServiceUrl,\r\n      body : querystring.stringify(params),\r\n      headers : {\r\n        \"content-type\" : \"application/x-www-form-urlencoded\"\r\n      }\r\n    }).then(function(response) {\r\n      var res;\r\n      try {\r\n        res = JSON.parse(response.body);\r\n      } catch(e) {}\r\n      if (response.statusCode >= 400) {\r\n        res = res || { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\r\n        var err = new Error(res.error_description);\r\n        err.name = res.error;\r\n        throw err;\r\n      }\r\n      return res;\r\n    }).thenCall(callback);\r\n  }\r\n\r\n});\r\n\n},{\"./transport\":22,\"querystring\":33,\"underscore\":55}],14:[function(require,module,exports){\n/**\r\n * @file Process class to manage/run workflow rule and approval process\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar _ = require('underscore'),\r\n    Promise = require('./promise'),\r\n    Conneciton = require('./connection');\r\n\r\n/**\r\n * A class which manages process rules and approval processes\r\n *\r\n * @class\r\n * @param {Connection} conn - Connection object\r\n */\r\nvar Process = module.exports = function(conn) {\r\n  /**\r\n   * Object which mangages process rules\r\n   * @member {Process~ProcessRule} Process#rule\r\n   */\r\n  this.rule = new ProcessRule(conn);\r\n  /**\r\n   * Object which mangages approval process\r\n   * @member {Process~ApprovalProcess} Process#approval\r\n   */\r\n  this.approval = new ApprovalProcess(conn);\r\n};\r\n\r\n/**\r\n * A class which manages process (workflow) rules\r\n * \r\n * @class Process~ProcessRule\r\n * @param {Connection} conn - Connection object\r\n */\r\nvar ProcessRule = function(conn) {\r\n  this._conn = conn;\r\n};\r\n\r\n/**\r\n * @typedef {Object} Process~ProcessRuleDefinition\r\n * @prop {String} id - Id of approval process definition\r\n * @prop {String} name - Name of process rule definition\r\n * @prop {String} object - SObject name which process rule is defined\r\n */\r\n\r\n/**\r\n * Get all process rule definitions registered to sobjects\r\n *\r\n * @method Process~ProcessRule#list\r\n * @param {Callback.<Map.<String, Array.<Process~ProcessRuleDefinition>>>} [callback] - Callback function\r\n * @returns {Promise.<Map.<String, Array.<Process~ProcessRuleDefinition>>>}\r\n */\r\nProcessRule.prototype.list = function(callback) {\r\n  return this._conn.request(\"/process/rules\").then(function(res) {\r\n    return res.rules;\r\n  }).thenCall(callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef {Object} Process~ProcessRuleTriggerResult\r\n * @prop {Boolean} success - Is process rule trigger succeeded or not\r\n * @prop {Array.<Object>} errors - Array of errors returned if the request failed\r\n */\r\n\r\n/**\r\n * Trigger process rule for given entities\r\n *\r\n * @method Process~ProcessRule#trigger\r\n * @param {String|Array.<String>} contextIds - Entity ID(s) to trigger workflow process\r\n * @param {Callback.<Process~ProcessRuleTriggerResult>} [callback] - Callback function\r\n * @returns {Promise.<Process~ProcessRuleTriggerResult>}\r\n */\r\nProcessRule.prototype.trigger = function(contextIds, callback) {\r\n  contextIds = _.isArray(contextIds) ? contextIds : [ contextIds ];\r\n  return this._conn.request({\r\n    method: \"POST\",\r\n    url: \"/process/rules/\",\r\n    body: JSON.stringify({\r\n      contextIds: contextIds\r\n    }),\r\n    headers: {\r\n      \"content-type\": \"application/json\"\r\n    }\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * A class which manages approval processes\r\n * \r\n * @class Process~ApprovalProcess\r\n * @param {Connection} conn - Connection object\r\n */\r\nvar ApprovalProcess = function(conn) {\r\n  this._conn = conn;\r\n};\r\n\r\n/**\r\n * @typedef {Object} Process~ApprovalProcessDefinition\r\n * @prop {String} id - Id of approval process definition\r\n * @prop {String} name - Name of approval process definition\r\n * @prop {String} object - SObject name which approval process is defined\r\n * @prop {Number} sortOrder - Processing order of approval in SObject \r\n */\r\n/**\r\n * Get all approval process definitions registered to sobjects\r\n *\r\n * @method Process~ApprovalProcess#list\r\n * @param {Callback.<Map.<String, Array.<ApprovalProcessDefinition>>>} [callback] - Callback function\r\n * @returns {Promise.<Map.<String, Array.<ApprovalProcessDefinition>>>}\r\n */\r\nApprovalProcess.prototype.list = function(callback) {\r\n  return this._conn.request(\"/process/approvals\").then(function(res) {\r\n    return res.approvals;\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * @typedef {Object} Process~ApprovalProcessRequestResult\r\n * @prop {Boolean} success - True if processing or approval completed successfully\r\n * @prop {Array.<Object>} errors - The set of errors returned if the request failed\r\n * @prop {Array.<String>} actorIds - IDs of the users who are currently assigned to this approval step\r\n * @prop {String} entityId - Object being processed\r\n * @prop {String} instanceId - ID of the ProcessInstance associated with the object submitted for processing\r\n * @prop {String} instanceStatus - Status of the current process instance (not an individual object but the entire process instance)\r\n * @prop {Array.<String>} newWorkItemIds - Case-insensitive IDs that point to ProcessInstanceWorkitem items (the set of pending approval requests)\r\n */\r\n\r\n/**\r\n * Send bulk requests for approval process\r\n *\r\n * @method Process~ApprovalProcess#request\r\n * @param {Array.<ApprovalProcessRequest>} requests - Array of approval process request to send\r\n * @param {Callback.<Array.<ApprovalProcessRequestResult>>} - Callback function\r\n * @param {Promise.<Array.<ApprovalProcessRequestResult>>}\r\n */\r\nApprovalProcess.prototype.request = function(requests, callback) {\r\n  requests = requests.map(function(req) {\r\n    return req._request ? req._request : req;\r\n  });\r\n  return this._conn.request({\r\n    method: 'POST',\r\n    url: '/process/approvals',\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify({ requests: requests })\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Create approval process request\r\n *\r\n * @private\r\n */\r\nApprovalProcess.prototype._createRequest = function(actionType, contextId, comments, options, callback) {\r\n  if (typeof comments === \"function\") {\r\n    callback = comments;\r\n    options = null;\r\n    comments = null;\r\n  }\r\n  if (typeof options === \"function\") {\r\n    callback = options;\r\n    options = null;\r\n  }\r\n  options = options || {};\r\n  var request = {\r\n    actionType: actionType,\r\n    contextId: contextId,\r\n    comments: comments\r\n  };\r\n  _.extend(request, options);\r\n  return new ApprovalProcessRequest(this, request).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Submit approval request for an item\r\n *\r\n * @method Process~ApprovalProcess#submit\r\n * @param {String} contextId - ID of the item that is being acted upon\r\n * @param {String} [comments] - Comment to add to the history step associated with this request\r\n * @param {Object} [options] - Request parameters\r\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\r\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\r\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\r\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\r\n * @returns {ApprovalProcessRequest}\r\n */\r\nApprovalProcess.prototype.submit = function(contextId, comments, options, callback) {\r\n  return this._createRequest(\"Submit\", contextId, comments, options, callback);\r\n};\r\n\r\n/**\r\n * Approve approval request for an item\r\n *\r\n * @method Process~ApprovalProcess#approve\r\n * @param {String} workitemId - ID of the item that is being acted upon\r\n * @param {String} [comments] - Comment to add to the history step associated with this request\r\n * @param {Object} [options] - Request parameters\r\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\r\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\r\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\r\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\r\n * @returns {ApprovalProcessRequest}\r\n */\r\nApprovalProcess.prototype.approve = function(workitemId, comments, options, callback) {\r\n  return this._createRequest(\"Approve\", workitemId, comments, options, callback);\r\n};\r\n\r\n/**\r\n * Reject approval request for an item\r\n *\r\n * @method Process~ApprovalProcess#reject\r\n * @param {String} workitemId - ID of the item that is being acted upon\r\n * @param {String} [comments] - Comment to add to the history step associated with this request\r\n * @param {Object} [options] - Request parameters\r\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\r\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\r\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\r\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\r\n * @returns {ApprovalProcessRequest}\r\n */\r\nApprovalProcess.prototype.reject = function(workitemId, comments, options, callback) {\r\n  return this._createRequest(\"Reject\", workitemId, comments, options, callback);\r\n};\r\n\r\n/**\r\n * A class representing approval process request\r\n *\r\n * @protected\r\n * @class Process~ApprovalProcessRequest\r\n * @implements {Promise.<Processr~ApprovalProcessRequestResult}\r\n * @param {Process~ApprovalProcess} process - ApprovalProcess\r\n * @param {Object} request - Request parameters\r\n * @param {String} request.actionType - Represents the kind of action to take: Submit, Approve, or Reject\r\n * @param {String} request.contextId - ID of the item that is being acted upon\r\n * @param {String} request.comments - Comment to add to the history step associated with this request\r\n * @param {Array.<String>} [request.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\r\n * @param {String} [request.processDefinitionNameOrId] - Developer name or ID of the process definition\r\n * @param {Boolean} [request.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\r\n */\r\nvar ApprovalProcessRequest = function(process, request) {\r\n  this._process = process;\r\n  this._request = request;\r\n};\r\n\r\n/**\r\n * Promise/A+ interface\r\n * http://promises-aplus.github.io/promises-spec/\r\n *\r\n * @method Process~ApprovalProcessRequest#then\r\n */\r\nApprovalProcessRequest.prototype.then = function(onResolve, onReject) {\r\n  if (!this._promise) {\r\n    this._promise = this._process.request([ this ]).then(function(rets) {\r\n      return rets[0];\r\n    });\r\n  }\r\n  this._promise.then(onResolve, onReject);\r\n};\r\n\r\n/**\r\n * Promise/A+ extension\r\n * Call \"then\" using given node-style callback function\r\n *\r\n * @method Process~ApprovalProcessRequest#thenCall\r\n */\r\nApprovalProcessRequest.prototype.thenCall = function(callback) {\r\n  return callback ? this.then(function(res) {\r\n    callback(null, res);\r\n  }, function(err) {\r\n    callback(err);\r\n  }) :\r\n  this;\r\n};\r\n\n},{\"./connection\":6,\"./promise\":15,\"underscore\":55}],15:[function(require,module,exports){\n(function (process){\n/*global process*/\r\n\r\n'use strict';\r\n\r\nvar Q = require('q'),\r\n    _ = require('underscore')._;\r\n\r\n/**\r\n * Promises/A+ spec compliant class, with a little extension\r\n * http://promises-aplus.github.io/promises-spec/\r\n *\r\n * @class Promise\r\n * @constructor\r\n * @param {Promise.<T>|T} o - Object to wrap with promise\r\n * @template T\r\n */\r\nvar Promise = function(o) {\r\n  this._promise = Q(o);\r\n};\r\n\r\n/**\r\n * @callback FulfilledCallback\r\n * @param {T} result - Fulfilled value\r\n * @returns {S}\r\n * @template T,S\r\n */\r\n\r\n/**\r\n * @callback RejectedCallback\r\n * @param {Error} reason - Rejected reason\r\n * @returns {S}\r\n * @template S\r\n */\r\n\r\n/**\r\n * The \"then\" method from the Promises/A+ specification\r\n *\r\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\r\n * @param {RejectedCallback.<S2>} [onRejected]\r\n * @returns {Promise.<S1|S2>}\r\n */\r\nPromise.prototype.then = function() {\r\n  // Delegate Q promise implementation and wrap by our Promise instance\r\n  return new Promise(this._promise.then.apply(this._promise, arguments));\r\n};\r\n\r\n/**\r\n * Call \"then\" using given node-style callback function\r\n *\r\n * @param {Callback.<T>} [callback] - Callback function\r\n * @returns {Promise}\r\n */\r\nPromise.prototype.thenCall = function(callback) {\r\n  if (_.isFunction(callback)) {\r\n    this.then(function(res) {\r\n      process.nextTick(function() {\r\n        callback(null, res);\r\n      });\r\n    }, function(err) {\r\n      process.nextTick(function() {\r\n        callback(err);\r\n      });\r\n    });\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * A sugar method, equivalent to promise.then(undefined, onRejected).\r\n *\r\n * @param {RejectedCallback.<S>} onRejected\r\n * @returns {Promise.<S>}\r\n */\r\nPromise.prototype.fail = function() {\r\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\r\n};\r\n\r\n/**\r\n * Alias for completion\r\n *\r\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\r\n * @returns {Promise.<S>}\r\n */\r\nPromise.prototype.done = function() {\r\n  return new Promise(this._promise.done.apply(this._promise, arguments));\r\n};\r\n\r\n/**\r\n * @param {...Promise.<*>} p\r\n */\r\nPromise.when = function() {\r\n  return new Promise(Q.when.apply(Q, arguments));\r\n};\r\n\r\n/**\r\n * Returns rejecting promise with given reason\r\n *\r\n * @param {Error} reason - Rejecting reason\r\n * @returns {Promise}\r\n */\r\nPromise.reject = function(reason) {\r\n  return new Promise(Q.reject(reason));\r\n};\r\n\r\n/**\r\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \r\n * or is rejected with the same rejection reason as the first promise to be rejected.\r\n *\r\n * @param {Array.<Promise.<*>|*>} promises\r\n * @returns {Promise.<Array.<*>>}\r\n */\r\nPromise.all = function() {\r\n  return new Promise(Q.all.apply(Q, arguments));\r\n};\r\n\r\n/**\r\n * Returns a deferred object\r\n *\r\n * @returns {Deferred}\r\n */\r\nPromise.defer = function() {\r\n  return new Deferred();\r\n};\r\n\r\n/**\r\n * Deferred object\r\n *\r\n * @protected\r\n * @constructor\r\n */\r\nvar Deferred = function() {\r\n  this._deferred = Q.defer();\r\n  this.promise = new Promise(this._deferred.promise);\r\n};\r\n\r\n/**\r\n * Resolve promise\r\n * @param {*} result - Resolving result\r\n */\r\nDeferred.prototype.resolve = function() {\r\n  return this._deferred.resolve.apply(this._promise, arguments);\r\n};\r\n\r\n/**\r\n * Reject promise\r\n * @param {Error} error - Rejecting reason\r\n */\r\nDeferred.prototype.reject = function() {\r\n  return this._deferred.reject.apply(this._promise, arguments);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nmodule.exports = Promise;\r\n\n}).call(this,require('_process'))\n},{\"_process\":30,\"q\":39,\"underscore\":55}],16:[function(require,module,exports){\n(function (process){\n/*global process*/\r\n/**\r\n * @file Manages query for records in Salesforce \r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar inherits = require('inherits'),\r\n    events = require('events'),\r\n    stream = require('readable-stream'),\r\n    _      = require('underscore')._,\r\n    Q      = require('q'),\r\n    Promise = require('./promise'),\r\n    SfDate = require(\"./date\"),\r\n    SOQLBuilder = require(\"./soql-builder\"),\r\n    RecordStream = require(\"./record-stream\");\r\n\r\n/**\r\n * Query\r\n *\r\n * @protected\r\n * @class\r\n * @extends {stream.Readable}\r\n * @implements Promise.<T>\r\n * @template T\r\n * @param {Connection} conn - Connection object\r\n * @param {Object|String} config - Query config object or SOQL string\r\n * @param {String} [locator] - Locator string to fetch next record set\r\n */\r\nvar Query = module.exports = function(conn, config, locator) {\r\n  Query.super_.call(this, { objectMode: true });\r\n\r\n  this._conn = conn;\r\n  if (config) {\r\n    if (_.isString(config)) { // if query config is string, it is given in SOQL.\r\n      this._soql = config;\r\n    } else {\r\n      this._config = config;\r\n      this.select(config.fields);\r\n      if (config.includes) {\r\n        this.include(config.includes);\r\n      }\r\n    }\r\n  }\r\n  if (locator && locator.indexOf(\"/\") >= 0) { // if locator given in url for next records\r\n    locator = locator.split(\"/\").pop();\r\n  }\r\n  this._locator = locator;\r\n\r\n  this._executed = false;\r\n  this._finished = false;\r\n  this._chaining = false;\r\n\r\n  this._deferred = Q.defer();\r\n\r\n  var self = this;\r\n};\r\n\r\ninherits(Query, stream.Readable);\r\n\r\n/**\r\n * Select fields to include in the returning result\r\n * \r\n * @param {Object|Array.<String>|String} fields - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.select = function(fields) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot set select fields for the query which has already built SOQL.\");\r\n  }\r\n  fields = fields || '*';\r\n  if (_.isString(fields)) {\r\n    fields = fields.split(/\\s*,\\s*/);\r\n  } else if (_.isObject(fields) && !_.isArray(fields)) {\r\n    var _fields =  [];\r\n    for (var k in fields) {\r\n      if (fields[k]) { _fields.push(k); }\r\n    }\r\n    fields = _fields;\r\n  }\r\n  this._config.fields = fields;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Set query conditions to filter the result records\r\n *\r\n * @param {Object|String} conditions - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.where = function(conditions) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot set where conditions for the query which has already built SOQL.\");\r\n  }\r\n  this._config.conditions = conditions;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Limit the returning result\r\n *\r\n * @param {Number} limit - Maximum number of records the query will return.\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.limit = function(limit) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot set limit for the query which has already built SOQL.\");\r\n  }\r\n  this._config.limit = limit;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Synonym of Query#skip()\r\n *\r\n * @method Query#offset\r\n * @param {Number} offset - Offset number where begins returning results.\r\n * @returns {Query.<T>}\r\n */\r\n/**\r\n * Skip records\r\n *\r\n * @method Query#offset\r\n * @param {Number} offset - Offset number where begins returning results.\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.skip =\r\nQuery.prototype.offset = function(offset) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot set skip/offset for the query which has already built SOQL.\");\r\n  }\r\n  this._config.offset = offset;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Synonym of Query#sort()\r\n *\r\n * @memthod Query#orderby\r\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\r\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\r\n * @returns {Query.<T>}\r\n */\r\n/**\r\n * Set query sort with direction\r\n *\r\n * @method Query#sort\r\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\r\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.sort =\r\nQuery.prototype.orderby = function(sort, dir) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot set sort for the query which has already built SOQL.\");\r\n  }\r\n  if (_.isString(sort) && _.isString(dir)) {\r\n    sort = [ [ sort, dir ] ];\r\n  }\r\n  this._config.sort = sort;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Include child relationship query\r\n *\r\n * @param {String} childRelName - Child relationship name to include in query result\r\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\r\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\r\n * @param {Object} [options] - Query options.\r\n * @param {Number} [options.limit] - Maximum number of records the query will return.\r\n * @param {Number} [options.offset] - Offset number where begins returning results.\r\n * @param {Number} [options.skip] - Synonym of options.offset.\r\n * @returns {Query~SubQuery}\r\n */\r\nQuery.prototype.include = function(childRelName, conditions, fields, options) {\r\n  if (this._soql) {\r\n    throw Error(\"Cannot include child relationship into the query which has already built SOQL.\");\r\n  }\r\n  if (_.isObject(childRelName)) {\r\n    var includes = childRelName;\r\n    for (var crname in includes) {\r\n      var config = includes[crname];\r\n      this.include(crname, config.conditions, config.fields, config);\r\n    }\r\n    return;\r\n  }\r\n  var childConfig = {\r\n    table: childRelName,\r\n    conditions: conditions,\r\n    fields: fields,\r\n    limit: options && options.limit,\r\n    offset: options && (options.offset || options.skip)\r\n  };\r\n  this._config.includes = this._config.includes || [];\r\n  this._config.includes.push(childConfig);\r\n  var childQuery = new SubQuery(this._conn, this, childConfig);\r\n  this._children = this._children || [];\r\n  this._children.push(childQuery);\r\n  return childQuery;\r\n};\r\n\r\n\r\n/** @private **/\r\nQuery.prototype._maxFetch = 10000;\r\n/**\r\n * Setting maxFetch query option\r\n *\r\n * @param {Number} maxFetch - Max fetching records in auto fetch mode\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.maxFetch = function(maxFetch) {\r\n  this._maxFetch = maxFetch;\r\n  return this;\r\n};\r\n\r\n/** @private **/\r\nQuery.prototype._autoFetch = false;\r\n/**\r\n * Switching auto fetch mode\r\n *\r\n * @param {Boolean} autoFetch - Using auto fetch mode or not\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.autoFetch = function(autoFetch) {\r\n  this._autoFetch = autoFetch;\r\n  return this;\r\n};\r\n\r\n/** @private **/\r\nQuery.prototype._scanAll = false;\r\n/**\r\n * Set flag to scan all records including deleted and archived.\r\n *\r\n * @param {Boolean} scanAll - Flag whether include deleted/archived record or not. Default is false.\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.scanAll = function(scanAll) {\r\n  this._scanAll = scanAll;\r\n  return this;\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nvar ResponseTargets = Query.ResponseTargets = {};\r\n[ \"QueryResult\", \"Records\", \"SingleRecord\", \"Count\" ].forEach(function(f) {\r\n  ResponseTargets[f] = f;\r\n});\r\n\r\n/** @private **/\r\nQuery.prototype._responseTarget = ResponseTargets.QueryResult;\r\n/**\r\n * @protected\r\n * @param {String} responseTarget - Query response target\r\n * @returns {Query.<S>}\r\n */\r\nQuery.prototype.setResponseTarget = function(responseTarget) {\r\n  if (responseTarget in ResponseTargets) {\r\n    this._responseTarget = responseTarget;\r\n  }\r\n  return this;\r\n};\r\n\r\n\r\n/**\r\n * Synonym of Query#execute()\r\n *\r\n * @method Query#run\r\n * @param {Object} [options] - Query options\r\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\r\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\r\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\r\n * @param {Callback.<T>} [callback] - Callback function\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.run = \r\n/**\r\n * Synonym of Query#execute()\r\n *\r\n * @method Query#exec\r\n * @param {Object} [options] - Query options\r\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\r\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\r\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\r\n * @param {Callback.<T>} [callback] - Callback function\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.exec = \r\n/**\r\n * Execute query and fetch records from server.\r\n *\r\n * @method Query#execute\r\n * @param {Object} [options] - Query options\r\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\r\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\r\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\r\n * @param {Callback.<T>} [callback] - Callback function\r\n * @returns {Query.<T>}\r\n */\r\nQuery.prototype.execute = function(options, callback) {\r\n  var self = this;\r\n  var logger = this._conn._logger;\r\n  var deferred = this._deferred;\r\n\r\n  if (this._executed) {\r\n    deferred.reject(new Error(\"re-executing already executed query\"));\r\n    return this;\r\n  }\r\n\r\n  if (this._finished) {\r\n    deferred.reject(new Error(\"executing already closed query\"));\r\n    return this;\r\n  }\r\n\r\n  if (typeof options === \"function\") {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  options = options || {};\r\n  options = {\r\n    responseTarget: options.responseTarget || self._responseTarget,\r\n    autoFetch: options.autoFetch || self._autoFetch,\r\n    maxFetch: options.maxFetch || self._maxFetch,\r\n    scanAll: options.scanAll || self._scanAll\r\n  };\r\n\r\n  // callback and promise resolution;\r\n  var promiseCallback = function(err, res) {\r\n    if (_.isFunction(callback)) {\r\n      try {\r\n        res = callback(err, res);\r\n        err = null;\r\n      } catch(e) {\r\n        err = e;\r\n      }\r\n    }\r\n    if (err) {\r\n      deferred.reject(err);\r\n    } else {\r\n      deferred.resolve(res);\r\n    }\r\n  };\r\n  this.once('response', function(res) {\r\n    promiseCallback(null, res);\r\n  });\r\n  this.once('error', function(err) {\r\n    promiseCallback(err);\r\n  });\r\n\r\n  // collect fetched records in array\r\n  // only when response target is Records and\r\n  // either callback or chaining promises are available to this query.\r\n  this.once('fetch', function() {\r\n    if (options.responseTarget === ResponseTargets.Records && (self._chaining || callback)) {\r\n      logger.debug('--- collecting all fetched records ---');\r\n      var records = [];\r\n      var onRecord = function(record) {\r\n        records.push(record);\r\n      };\r\n      self.on('record', onRecord);\r\n      self.once('end', function() {\r\n        self.removeListener('record', onRecord);\r\n        self.emit('response', records, self);\r\n      });\r\n    }\r\n  });\r\n\r\n  // flag to prevent re-execution\r\n  this._executed = true;\r\n\r\n  // start actual query\r\n  logger.debug('>>> Query start >>>');\r\n  this._execute(options).then(function() {\r\n    logger.debug('*** Query finished ***');\r\n  }).fail(function(err) {\r\n    logger.debug('--- Query error ---');\r\n    self.emit('error', err);\r\n  });\r\n\r\n  // return Query instance for chaining\r\n  return this;\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nQuery.prototype._execute = function(options) {\r\n  var self = this;\r\n  var logger = this._conn._logger;\r\n  var responseTarget = options.responseTarget;\r\n  var autoFetch = options.autoFetch;\r\n  var maxFetch = options.maxFetch;\r\n  var scanAll = options.scanAll;\r\n\r\n  return new Promise(\r\n    self._locator ?\r\n    self._conn._baseUrl() + \"/query/\" + self._locator :\r\n    self.toSOQL().then(function(soql) {\r\n      self.totalFetched = 0;\r\n      logger.debug(\"SOQL = \" + soql);\r\n      return self._conn._baseUrl() + \"/\" + (scanAll ? \"queryAll\" : \"query\") + \"?q=\" + encodeURIComponent(soql);\r\n    })\r\n  ).then(function(url) {\r\n    return self._conn.request(url);\r\n  }).then(function(data) {\r\n    self.emit(\"fetch\");\r\n    self.totalSize = data.totalSize;\r\n    var res;\r\n    switch(responseTarget) {\r\n      case ResponseTargets.SingleRecord:\r\n        res = data.records && data.records.length > 0 ? data.records[0] : null;\r\n        break;\r\n      case ResponseTargets.Records:\r\n        res = data.records;\r\n        break;\r\n      case ResponseTargets.Count:\r\n        res = data.totalSize;\r\n        break;\r\n      default:\r\n        res = data;\r\n    }\r\n    // only fire response event when it should be notified per fetch\r\n    if (responseTarget !== ResponseTargets.Records) {\r\n      self.emit(\"response\", res, self);\r\n    }\r\n\r\n    // streaming record instances\r\n    for (var i=0, l=data.records.length; i<l; i++) {\r\n      if (self.totalFetched >= maxFetch) {\r\n        self._finished = true;\r\n        break;\r\n      }\r\n      var record = data.records[i];\r\n      self.push(record);\r\n      self.emit('record', record, self.totalFetched++, self);\r\n    }\r\n    if (data.nextRecordsUrl) {\r\n      self._locator = data.nextRecordsUrl.split('/').pop();\r\n    }\r\n    self._finished = self._finished || data.done || !autoFetch;\r\n    if (self._finished) {\r\n      self.push(null);\r\n    } else {\r\n      self._execute(options);\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\n/**\r\n * Readable stream implementation\r\n *\r\n * @override\r\n * @private\r\n */\r\nQuery.prototype._read = function(size) {\r\n  if (!this._finished && !this._executed) {\r\n    this.execute({ autoFetch: true });\r\n  }\r\n};\r\n\r\n/** @override **/\r\nQuery.prototype.on = function(e, fn) {\r\n  if (e === 'record') {\r\n    var self = this;\r\n    this.on('readable', function() {\r\n      while(self.read() !== null) {} // discard buffered records\r\n    });\r\n  }\r\n  return Query.super_.prototype.on.call(this, e, fn);\r\n};\r\n\r\n/** @override **/\r\nQuery.prototype.addListener = Query.prototype.on;\r\n\r\n\r\n/**\r\n * @private\r\n */\r\nQuery.prototype._expandFields = function() {\r\n  if (this._soql) {\r\n    return Promise.reject(new Error(\"Cannot expand fields for the query which has already built SOQL.\"));\r\n  }\r\n  var self = this;\r\n  var logger = self._conn._logger;\r\n  var conn = this._conn;\r\n  var table = this._config.table;\r\n  var fields = this._config.fields || [];\r\n\r\n  logger.debug('_expandFields: table = ' + table + ', fields = ' + fields.join(', '));\r\n\r\n  return Promise.all([\r\n    new Promise(self._parent ? findRelationTable(table) : table)\r\n      .then(function(table) {\r\n        return Promise.all(\r\n          _.map(fields, function(field) { return expandAsteriskField(table, field); })\r\n        ).then(function(expandedFields) {\r\n          self._config.fields = _.flatten(expandedFields);\r\n        });\r\n      }),\r\n    Promise.all(\r\n      _.map(self._children || [], function(childQuery) {\r\n        return childQuery._expandFields();\r\n      })\r\n    )\r\n  ]);\r\n\r\n  function findRelationTable(rname) {\r\n    var ptable = self._parent._config.table;\r\n    logger.debug('finding table for relation \"' + rname + '\" in \"' + ptable + '\"...');\r\n    return describeCache(ptable).then(function(sobject) {\r\n      var upperRname = rname.toUpperCase();\r\n      var childRelation = _.find(sobject.childRelationships, function(cr) {\r\n        return (cr.relationshipName || '').toUpperCase() === upperRname;\r\n      });\r\n      return childRelation ? childRelation.childSObject :\r\n        Promise.reject(new Error(\"No child relationship found: \" + rname ));\r\n    });\r\n  }\r\n\r\n  function describeCache(table) {\r\n    logger.debug('describe cache: '+table);\r\n    var deferred = Promise.defer();\r\n    conn.describe$(table, function(err, sobject) {\r\n      logger.debug('... done.');\r\n      if (err) { deferred.reject(err); }\r\n      else { deferred.resolve(sobject); }\r\n    });\r\n    return deferred.promise;\r\n  }\r\n\r\n  function expandAsteriskField(table, field) {\r\n    logger.debug('expanding field \"'+ field + '\" in \"' + table + '\"...');\r\n    var fpath = field.split('.');\r\n    return fpath[fpath.length - 1] === '*' ?\r\n      describeCache(table).then(function(sobject) {\r\n        logger.debug('table '+table+'has been described');\r\n        if (fpath.length > 1) {\r\n          var rname = fpath.shift();\r\n          var rfield = _.find(sobject.fields, function(f) {\r\n            return f.relationshipName &&\r\n                   f.relationshipName.toUpperCase() === rname.toUpperCase();\r\n          });\r\n          if (rfield) {\r\n            var rtable = rfield.referenceTo.length === 1 ? rfield.referenceTo[0] : 'Name';\r\n            return expandAsteriskField(rtable, fpath.join('.')).then(function(fpaths) {\r\n              return _.map(fpaths, function(fpath) { return rname + '.' + fpath; });\r\n            });\r\n          } else {\r\n            return [];\r\n          }\r\n        } else {\r\n          return _.map(sobject.fields, function(f) { return f.name; });\r\n        }\r\n      }) :\r\n      new Promise([ field ]);\r\n  }\r\n};\r\n\r\n/**\r\n * Explain plan for executing query\r\n *\r\n * @param {Callback.<ExplainInfo>} [callback] - Callback function\r\n * @returns {Promise.<ExplainInfo>}\r\n */\r\nQuery.prototype.explain = function(callback) {\r\n  var self = this;\r\n  var logger = this._conn._logger;\r\n  return self.toSOQL().then(function(soql) {\r\n    logger.debug(\"SOQL = \" + soql);\r\n    var url = \"/query/?explain=\" + encodeURIComponent(soql);\r\n    return self._conn.request(url);\r\n  }).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Return SOQL expression for the query\r\n *\r\n * @param {Callback.<String>} [callback] - Callback function\r\n * @returns {Promise.<String>}\r\n */\r\nQuery.prototype.toSOQL = function(callback) {\r\n  var self = this;\r\n  return new Promise(self._soql ||\r\n    self._expandFields().then(function() { return SOQLBuilder.createSOQL(self._config); })\r\n  ).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Create data stream of queried records.\r\n * Automatically resume query if paused.\r\n *\r\n * @param {String} [type] - Type of outgoing data format. Currently 'csv' is default value and the only supported.\r\n * @param {Object} [options] - Options passed to converter\r\n * @returns {stream.Readable}\r\n */\r\nQuery.prototype.stream = RecordStream.Serializable.prototype.stream;\r\n\r\n/**\r\n * Get record stream of queried records applying the given mapping function\r\n *\r\n * @param {RecordMapFunction} fn - Record mapping function\r\n * @returns {RecordStream.Serializable}\r\n */\r\nQuery.prototype.map = RecordStream.prototype.map;\r\n\r\n/**\r\n * Get record stream of queried records, applying the given filter function\r\n *\r\n * @param {RecordFilterFunction} fn - Record filtering function\r\n * @returns {RecordStream.Serializable}\r\n */\r\nQuery.prototype.filter = RecordStream.prototype.map;\r\n\r\n/**\r\n * Synonym of Query#destroy()\r\n *\r\n * @method Query#delete\r\n * @param {String} [type] - SObject type. Required for SOQL based query object.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\n/**\r\n * Synonym of Query#destroy()\r\n *\r\n * @method Query#del\r\n * @param {String} [type] - SObject type. Required for SOQL based query object.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\n/**\r\n * Bulk delete queried records\r\n *\r\n * @method Query#destroy\r\n * @param {String} [type] - SObject type. Required for SOQL based query object.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<RecordResult>>}\r\n */\r\nQuery.prototype[\"delete\"] =\r\nQuery.prototype.del =\r\nQuery.prototype.destroy = function(type, callback) {\r\n  if (typeof type === 'function') {\r\n    callback = type;\r\n    type = null;\r\n  }\r\n  type = type || (this._config && this._config.table);\r\n  if (!type) {\r\n    throw new Error(\"SOQL based query needs SObject type information to bulk delete.\");\r\n  }\r\n  var batch = this._conn.sobject(type).deleteBulk();\r\n  var deferred = Promise.defer();\r\n  var handleError = function(err) {\r\n    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records\r\n    else { deferred.reject(err); }\r\n  };\r\n  this.on('error', handleError)\r\n    .pipe(batch)\r\n    .on('response', function(res) { deferred.resolve(res); })\r\n    .on('error', handleError);\r\n  return deferred.promise.thenCall(callback);\r\n};\r\n\r\n/**\r\n * Bulk update queried records, using given mapping function/object\r\n *\r\n * @param {Record|RecordMapFunction} mapping - Mapping record or record mapping function\r\n * @param {String} [type] - SObject type. Required for SOQL based query object.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<RecordResult>>}\r\n */\r\nQuery.prototype.update = function(mapping, type, callback) {\r\n  if (typeof type === 'function') {\r\n    callback = type;\r\n    type = null;\r\n  }\r\n  type = type || (this._config && this._config.table);\r\n  if (!type) {\r\n    throw new Error(\"SOQL based query needs SObject type information to bulk update.\");\r\n  }\r\n  var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.recordMapStream(mapping);\r\n  var batch = this._conn.sobject(type).updateBulk();\r\n  var deferred = Promise.defer();\r\n  var handleError = function(err) {\r\n    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records\r\n    else { deferred.reject(err); }\r\n  };\r\n  this.on('error', handleError)\r\n    .pipe(updateStream)\r\n    .on('error', handleError)\r\n    .pipe(batch)\r\n    .on('response', function(res) { deferred.resolve(res); })\r\n    .on('error', handleError);\r\n  return deferred.promise.thenCall(callback);\r\n};\r\n\r\n/**\r\n * Promise/A+ interface\r\n * http://promises-aplus.github.io/promises-spec/\r\n *\r\n * Delegate to deferred promise, return promise instance for query result\r\n *\r\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\r\n * @param {RejectedCallback.<S2>} [onRejected]\r\n * @returns {Promise.<S1|S2>}\r\n */\r\nQuery.prototype.then = function(onResolved, onReject) {\r\n  this._chaining = true;\r\n  if (!this._finished && !this._executed) { this.execute(); }\r\n  return this._deferred.promise.then.apply(this._deferred.promise, arguments);\r\n};\r\n\r\n/**\r\n * Promise/A+ extension\r\n * Call \"then\" using given node-style callback function\r\n *\r\n * @param {Callback.<T>} [callback] - Callback function\r\n * @returns {Query}\r\n */\r\nQuery.prototype.thenCall = function(callback) {\r\n  if (_.isFunction(callback)) {\r\n    this.then(function(res) {\r\n      process.nextTick(function() {\r\n        callback(null, res);\r\n      });\r\n    }, function(err) {\r\n      process.nextTick(function() {\r\n        callback(err);\r\n      });\r\n    });\r\n  }\r\n  return this;\r\n};\r\n\r\n/*--------------------------------------------*/\r\n\r\n/**\r\n * SubQuery object for representing child relationship query\r\n *\r\n * @protected\r\n * @class Query~SubQuery\r\n * @extends Query\r\n * @param {Connection} conn - Connection object\r\n * @param {Query} parent - Parent query object\r\n * @param {Object} config - Sub query configuration\r\n */\r\nvar SubQuery = function(conn, parent, config) {\r\n  SubQuery.super_.call(this, conn, config);\r\n  this._parent = parent;\r\n};\r\n\r\ninherits(SubQuery, Query);\r\n\r\n/**\r\n * @method Query~SubQuery#include\r\n * @override\r\n */\r\nSubQuery.prototype.include = function() {\r\n  throw new Error(\"Not allowed to include another subquery in subquery.\");\r\n};\r\n\r\n/**\r\n * Back the context to parent query object\r\n *\r\n * @method Query~SubQuery#end\r\n * @returns {Query}\r\n */\r\nSubQuery.prototype.end = function() {\r\n  return this._parent;\r\n};\r\n\r\n/**\r\n * If execute is called in subquery context, delegate it to parent query object\r\n *\r\n * @method Query~SubQuery#execute\r\n * @override\r\n */\r\nSubQuery.prototype.run =\r\nSubQuery.prototype.exec =\r\nSubQuery.prototype.execute = function() {\r\n  return this._parent.execute.apply(this._parent, arguments);\r\n};\r\n\n}).call(this,require('_process'))\n},{\"./date\":9,\"./promise\":15,\"./record-stream\":18,\"./soql-builder\":21,\"_process\":30,\"events\":29,\"inherits\":38,\"q\":39,\"readable-stream\":50,\"underscore\":55}],17:[function(require,module,exports){\n/**\r\n * @file Represents Salesforce QuickAction\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\n\r\n/**\r\n * A class for quick action\r\n *\r\n * @protected\r\n * @constructor\r\n */\r\nvar QuickAction = module.exports = function(conn, path) {\r\n  this._conn = conn;\r\n  this._path = path;\r\n};\r\n\r\n/**\r\n * @typedef {Object} QuickAction~QuickActionInfo\r\n * @prop {String} type - Type of the action (e.g. Create, Update, Post, LogACall)\r\n * @prop {String} name - Name of the action\r\n * @prop {String} label - Label of the action\r\n * @prop {Object} urls - Endpoint URL information of the action\r\n */\r\n/**\r\n * @typedef {QuickAction~QuickActionInfo} QuickAction~QuickActionDescriveInfo\r\n * @prop {String} contextSobjectType - Object type used for the action\r\n * @prop {String} targetSobjectType - Object type of the action to target\r\n * @prop {String} targetParentField - Field name in the target object which refers parent(context) object record ID.\r\n * @prop {String} targetRecordTypeId - Record type of the targeted record\r\n * @prop {Object} layout - Layout sections that comprise an action\r\n */\r\n\r\n/**\r\n * Describe the action's information (including layout, etc.)\r\n *\r\n * @param {Callback.<QuickAction~QuickActionDescriveInfo>} [callback] - Callback function\r\n * @returns {Promise.<QuickAction~QuickActionDescriveInfo>}\r\n */\r\nQuickAction.prototype.describe = function(callback) {\r\n  var url = this._path + \"/describe\";\r\n  return this._conn.request(url).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Retrieve default field values in the action (for given record, if specified)\r\n *\r\n * @param {String} [contextId] - ID of record to get default values specific to the record\r\n * @param {Callback.<Record>} [callback] - Callback function\r\n * @returns {Promise.<Record>}\r\n */\r\nQuickAction.prototype.defaultValues = function(contextId, callback) {\r\n  if (typeof contextId === 'function') {\r\n    callback = contextId;\r\n    contextId = null;\r\n  }\r\n  var url = this._path + \"/defaultValues\";\r\n  if (contextId) {\r\n    url += \"/\" + contextId;\r\n  }\r\n  return this._conn.request(url).thenCall(callback);\r\n};\r\n\r\n/**\r\n * @typedef {Object} QuickAction~QuickActionResult\r\n * @param {String} id - Record id of the action result\r\n * @param {Array.<String>} feedItemIds - List of IDs for feed item\r\n * @param {Boolean} success - True if the action successfully completed\r\n * @param {Boolean} created - True if the action yields a new record\r\n * @param {String} contextId - Context record ID of the action\r\n * @param {Array.<Object>} errors - Errors if the action failed\r\n */\r\n\r\n/**\r\n * Execute the action for given context Id and record information\r\n * \r\n * @param {String} contextId - Context record ID of the action\r\n * @param {Record} record - Input record information for the action\r\n * @param {Callback.<QuickAction~QuickActionResult>} [callback] - Callback function\r\n * @returns {Promise.<QuickAction~QuickActionResult>}\r\n */\r\nQuickAction.prototype.execute = function(contextId, record, callback) {\r\n  var body = {\r\n    contextId: contextId,\r\n    record: record\r\n  };\r\n  return this._conn.requestPost(this._path, body).thenCall(callback);\r\n};\r\n\n},{}],18:[function(require,module,exports){\n/**\r\n * @file Represents stream that handles Salesforce record as stream data\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar events = require('events'),\r\n    stream = require('readable-stream'),\r\n    Duplex = stream.Duplex,\r\n    Transform = stream.Transform,\r\n    PassThrough = stream.PassThrough,\r\n    through2 = require('through2'),\r\n    inherits = require('inherits'),\r\n    _      = require('underscore'),\r\n    CSV    = require('./csv');\r\n\r\n\r\n/**\r\n * Class for Record Stream\r\n *\r\n * @class\r\n * @constructor\r\n * @extends stream.Transform\r\n */\r\nvar RecordStream = module.exports = function() {\r\n  RecordStream.super_.call(this, { objectMode: true });\r\n};\r\n\r\ninherits(RecordStream, Transform);\r\n\r\n\r\n/*\r\n * @override\r\n */\r\nRecordStream.prototype._transform = function(record, enc, callback) {\r\n  this.emit('record', record);\r\n  this.push(record);\r\n  callback();\r\n};\r\n\r\n/**\r\n * Get record stream of queried records applying the given mapping function\r\n *\r\n * @param {RecordMapFunction} fn - Record mapping function\r\n * @returns {RecordStream}\r\n */\r\nRecordStream.prototype.map = function(fn) {\r\n  return this.pipe(RecordStream.map());\r\n};\r\n\r\n/**\r\n * Get record stream of queried records, applying the given filter function\r\n *\r\n * @param {RecordFilterFunction} fn - Record filtering function\r\n * @returns {RecordStream}\r\n */\r\nRecordStream.prototype.filter = function(fn) {\r\n  return this.pipe(RecordStream.filter());\r\n};\r\n\r\n\r\n/**\r\n * @class RecordStream.Serializable\r\n * @extends {RecordStream}\r\n */\r\nvar Serializable = RecordStream.Serializable = function() {\r\n  Serializable.super_.call(this);\r\n  this._dataStream = null;\r\n};\r\n\r\ninherits(Serializable, RecordStream);\r\n\r\n/**\r\n * Create readable data stream which emits serialized record data\r\n *\r\n * @param {String} [type] - Type of outgoing data format. Currently 'csv' is default value and the only supported.\r\n * @param {Object} [options] - Options passed to converter\r\n * @returns {stream.Readable}\r\n*/\r\nSerializable.prototype.stream = function(type, options) {\r\n  type = type || 'csv';\r\n  var converter = DataStreamConverters[type];\r\n  if (!converter) {\r\n    throw new Error('Converting [' + type + '] data stream is not supported.');\r\n  }\r\n  if (!this._dataStream) {\r\n    this._dataStream = new PassThrough();\r\n    this.pipe(converter.serialize(options))\r\n      .pipe(this._dataStream);\r\n  }\r\n  return this._dataStream;\r\n};\r\n\r\n\r\n/**\r\n * @class RecordStream.Parsable\r\n * @extends {RecordStream}\r\n */\r\nvar Parsable = RecordStream.Parsable = function() {\r\n  Parsable.super_.call(this);\r\n  this._dataStream = null;\r\n};\r\n\r\ninherits(Parsable, RecordStream);\r\n\r\n/**\r\n * Create writable data stream which accepts serialized record data\r\n *\r\n * @param {String} [type] - Type of outgoing data format. Currently 'csv' is default value and the only supported.\r\n * @param {Object} [options] - Options passed to converter\r\n * @returns {stream.Readable}\r\n*/\r\nParsable.prototype.stream = function(type, options) {\r\n  type = type || 'csv';\r\n  var converter = DataStreamConverters[type];\r\n  if (!converter) {\r\n    throw new Error('Converting [' + type + '] data stream is not supported.');\r\n  }\r\n  if (!this._dataStream) {\r\n    this._dataStream = new PassThrough();\r\n    this._parserStream = converter.parse(options);\r\n    this._parserStream.pipe(this).pipe(new PassThrough({ objectMode: true }));\r\n  }\r\n  return this._dataStream;\r\n};\r\n\r\n\r\n/* @override */\r\nParsable.prototype.on = function(ev, fn) {\r\n  if (ev === 'readable' || ev === 'record') {\r\n    this._dataStream.pipe(this._parserStream);\r\n  }\r\n  return Parsable.super_.prototype.on.call(this, ev, fn);\r\n};\r\n\r\n/* @override */\r\nParsable.prototype.addListener = Parsable.prototype.on;\r\n\r\n/* --------------------------------------------------- */\r\n\r\n/**\r\n * @callback RecordMapFunction\r\n * @param {Record} record - Source record to map\r\n * @returns {Record}\r\n */\r\n\r\n/**\r\n * Create a record stream which maps records and pass them to downstream\r\n *\r\n * @param {RecordMapFunction} fn - Record mapping function\r\n * @returns {RecordStream.Serializable}\r\n */\r\nRecordStream.map = function(fn) {\r\n  var mapStream = new RecordStream.Serializable();\r\n  mapStream._transform = function(record, enc, callback) {\r\n    var rec = fn(record) || record; // if not returned record, use same record\r\n    this.push(rec);\r\n    callback();\r\n  };\r\n  return mapStream;\r\n};\r\n\r\n/**\r\n * Create mapping stream using given record template\r\n *\r\n * @param {Record} record - Mapping record object. In mapping field value, temlate notation can be used to refer field value in source record, if noeval param is not true.\r\n * @param {Boolean} [noeval] - Disable template evaluation in mapping record.\r\n * @returns {RecordStream.Serializable}\r\n */\r\nRecordStream.recordMapStream = function(record, noeval) {\r\n  return RecordStream.map(function(rec) {\r\n    var mapped = { Id: rec.Id };\r\n    for (var prop in record) {\r\n      mapped[prop] = noeval ? record[prop] : evalMapping(record[prop], rec);\r\n    }\r\n    return mapped;\r\n  });\r\n\r\n  function evalMapping(value, mapping) {\r\n    if (_.isString(value)) {\r\n      var m = /^\\$\\{(\\w+)\\}$/.exec(value);\r\n      if (m) { return mapping[m[1]]; }\r\n      return value.replace(/\\$\\{(\\w+)\\}/g, function($0, prop) {\r\n        var v = mapping[prop];\r\n        return _.isNull(v) || _.isUndefined(v) ? \"\" : String(v);\r\n      });\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * @callback RecordFilterFunction\r\n * @param {Record} record - Source record to filter\r\n * @returns {Boolean}\r\n */\r\n\r\n/**\r\n * Create a record stream which filters records and pass them to downstream\r\n *\r\n * @param {RecordFilterFunction} fn - Record filtering function\r\n * @returns {RecordStream.Serializable}\r\n */\r\nRecordStream.filter = function(fn) {\r\n  var filterStream = new RecordStream.Serializable();\r\n  filterStream._transform = function(record, enc, callback) {\r\n    if (fn(record)) { this.push(record); }\r\n    callback();\r\n  };\r\n  return filterStream;\r\n};\r\n\r\n/** ---------------------------------------------------------------------- **/\r\n\r\n/**\r\n * @private\r\n */\r\nvar CSVStreamConverter = {\r\n  serialize: function(options) {\r\n    options = options || {};\r\n    var wroteHeaders = false;\r\n    var headers = options.headers;\r\n    return through2({ writableObjectMode: true },\r\n      function transform(record, enc, callback) {\r\n        if (!wroteHeaders) {\r\n          if (!headers) {\r\n            headers = CSV.extractHeaders([ record ]);\r\n          }\r\n          this.push(CSV.arrayToCSV(headers) + '\\n', 'utf8');\r\n          wroteHeaders = true;\r\n        }\r\n        this.push(CSV.recordToCSV(record, headers, { nullValue: options.nullValue }) + '\\n', 'utf8');\r\n        callback();\r\n      }\r\n    );\r\n  },\r\n\r\n  parse: function() {\r\n    var buf = [];\r\n    return through2({ readableObjectMode: true },\r\n      function transform(data, enc, callback) {\r\n        buf.push(data);\r\n        callback();\r\n      },\r\n      function flush(callback) {\r\n        var data = buf.map(function(d) {\r\n          return d.toString('utf8');\r\n        }).join('');\r\n        var records = CSV.parseCSV(data);\r\n        var _this = this;\r\n        records.forEach(function(record) {\r\n          _this.push(record);\r\n        });\r\n        this.push(null);\r\n        callback();\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nvar DataStreamConverters = RecordStream.DataStreamConverters = {\r\n  csv: CSVStreamConverter\r\n};\r\n\n},{\"./csv\":8,\"events\":29,\"inherits\":38,\"readable-stream\":50,\"through2\":54,\"underscore\":55}],19:[function(require,module,exports){\n/**\r\n * @file Represents Salesforce record information\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar _ = require('underscore')._;\r\n\r\n/**\r\n * A simple hash object including record field information\r\n *\r\n * @typedef {Object} Record\r\n */\r\n\r\n/**\r\n * Remote reference to record information\r\n *\r\n * @protected\r\n * @class\r\n * @constructor\r\n * @param {Connection} conn - Connection object\r\n * @param {String} type - SObject type\r\n * @param {String} id - Record ID\r\n */\r\nvar RecordReference = module.exports = function(conn, type, id) {\r\n  this._conn = conn;\r\n  this.type = type;\r\n  this.id = id;\r\n};\r\n\r\n/**\r\n * Retrieve record field information\r\n *\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<Record>} [callback] - Callback function\r\n * @returns {Promise.<Record>}\r\n */\r\nRecordReference.prototype.retrieve = function(options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.retrieve(this.type, this.id, options, callback);\r\n};\r\n\r\n/**\r\n * Update record field information\r\n *\r\n * @param {Record} record - A Record which includes fields to update\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult>}\r\n */\r\nRecordReference.prototype.update = function(record, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  record = _.clone(record);\r\n  record.Id = this.id;\r\n  return this._conn.update(this.type, record, options, callback);\r\n};\r\n\r\n/**\r\n * Synonym of Record#destroy()\r\n *\r\n * @method RecordReference#delete\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult>}\r\n */\r\nRecordReference.prototype[\"delete\"] =\r\n/**\r\n * Synonym of Record#destroy()\r\n *\r\n * @method RecordReference#del\r\n * @param {Callback.<RecordResult>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult>}\r\n */\r\nRecordReference.prototype.del =\r\n/**\r\n * Delete record field\r\n *\r\n * @method RecordReference#destroy\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult>}\r\n */\r\nRecordReference.prototype.destroy = function(options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.destroy(this.type, this.id, options, callback);\r\n};\r\n\r\n/**\r\n * Get blob field as stream\r\n *\r\n * @param {String} fieldName - Blob field name\r\n * @returns {stream.Stream}\r\n */\r\nRecordReference.prototype.blob = function(fieldName) {\r\n  var url = [ this._conn._baseUrl(), 'sobjects', this.type, this.id, fieldName ].join('/');\r\n  return this._conn.request(url).stream();\r\n};\r\n\r\n\n},{\"underscore\":55}],20:[function(require,module,exports){\n/**\r\n * @file Represents Salesforce SObject\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar _      = require('underscore'),\r\n    Record = require('./record'),\r\n    Query  = require('./query'),\r\n    Cache  = require('./cache'),\r\n    QuickAction = require('./quick-action');\r\n\r\n/**\r\n * A class for organizing all SObject access\r\n *\r\n * @constructor\r\n */\r\nvar SObject = module.exports = function(conn, type) {\r\n  this._conn = conn;\r\n  this.type = type;\r\n  var cacheOptions = { key: \"describe.\" + this.type };\r\n  this.describe$ = conn.cache.makeCacheable(this.describe, this, cacheOptions);\r\n  this.describe = conn.cache.makeResponseCacheable(this.describe, this, cacheOptions);\r\n\r\n  cacheOptions = { key: \"layouts.\" + this.type };\r\n  this.layouts$ = conn.cache.makeCacheable(this.layouts, this, cacheOptions);\r\n  this.layouts = conn.cache.makeResponseCacheable(this.layouts, this, cacheOptions);\r\n\r\n  cacheOptions = { key: \"compactLayouts.\" + this.type };\r\n  this.compactLayouts$ = conn.cache.makeCacheable(this.compactLayouts, this, cacheOptions);\r\n  this.compactLayouts = conn.cache.makeResponseCacheable(this.compactLayouts, this, cacheOptions);\r\n\r\n  cacheOptions = { key: \"approvalLayouts.\" + this.type };\r\n  this.approvalLayouts$ = conn.cache.makeCacheable(this.approvalLayouts, this, cacheOptions);\r\n  this.approvalLayouts = conn.cache.makeResponseCacheable(this.approvalLayouts, this, cacheOptions);\r\n};\r\n\r\n/**\r\n * Synonym of SObject#create()\r\n *\r\n * @method SObject#insert\r\n * @param {Record|Array.<Record>} records - A record or array of records to create\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Create records\r\n *\r\n * @method SObject#create\r\n * @param {Record|Array.<Record>} records - A record or array of records to create\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nSObject.prototype.insert =\r\nSObject.prototype.create = function(records, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.create(this.type, records, options, callback);\r\n};\r\n\r\n/**\r\n * Retrieve specified records\r\n *\r\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\r\n * @returns {Promise.<Record|Array.<Record>>}\r\n */\r\nSObject.prototype.retrieve = function(ids, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.retrieve(this.type, ids, options, callback);\r\n};\r\n\r\n/**\r\n * Update records\r\n *\r\n * @param {Record|Array.<Record>} records - A record or array of records to update\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nSObject.prototype.update = function(records, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.update(this.type, records, options, callback);\r\n};\r\n\r\n/**\r\n * Upsert records\r\n *\r\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\r\n * @param {String} extIdField - External ID field name\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nSObject.prototype.upsert = function(records, extIdField, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.upsert(this.type, records, extIdField, options, callback);\r\n};\r\n\r\n/**\r\n * Synonym of SObject#destroy()\r\n *\r\n * @method SObject#delete\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Synonym of SObject#destroy()\r\n *\r\n * @method SObject#del\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\n/**\r\n * Delete records\r\n *\r\n * @method SObject#destroy\r\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\r\n * @param {Object} [options] - Options for rest api.\r\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\r\n */\r\nSObject.prototype[\"delete\"] =\r\nSObject.prototype.del =\r\nSObject.prototype.destroy = function(ids, options, callback) {\r\n  if (typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n  return this._conn.destroy(this.type, ids, options, callback);\r\n};\r\n\r\n/**\r\n * Describe SObject metadata\r\n *\r\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\r\n * @returns {Promise.<DescribeSObjectResult>}\r\n */\r\nSObject.prototype.describe = function(callback) {\r\n  return this._conn.describe(this.type, callback);\r\n};\r\n\r\n/**\r\n * Get record representation instance by given id\r\n *\r\n * @param {String} id - A record ID\r\n * @returns {RecordReference}\r\n */\r\nSObject.prototype.record = function(id) {\r\n  return new Record(this._conn, this.type, id);\r\n};\r\n\r\n/**\r\n * Find and fetch records which matches given conditions\r\n *\r\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\r\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\r\n * @param {Object} [options] - Query options.\r\n * @param {Number} [options.limit] - Maximum number of records the query will return.\r\n * @param {Number} [options.offset] - Offset number where begins returning results.\r\n * @param {Number} [options.skip] - Synonym of options.offset.\r\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\r\n * @returns {Query.<Array.<Record>>}\r\n */\r\nSObject.prototype.find = function(conditions, fields, options, callback) {\r\n  if (typeof conditions === 'function') {\r\n    callback = conditions;\r\n    conditions = {};\r\n    fields = null;\r\n    options = null;\r\n  } else if (typeof fields === 'function') {\r\n    callback = fields;\r\n    fields = null;\r\n    options = null;\r\n  } else if (typeof options === 'function') {\r\n    callback = options;\r\n    options = null;\r\n  }\r\n  options = options || {};\r\n  var config = {\r\n    fields: fields,\r\n    includes: options.includes,\r\n    table: this.type,\r\n    conditions: conditions,\r\n    limit: options.limit,\r\n    offset: options.offset || options.skip\r\n  };\r\n  var query = new Query(this._conn, config);\r\n  query.setResponseTarget(Query.ResponseTargets.Records);\r\n  if (callback) { query.run(callback); }\r\n  return query;\r\n};\r\n\r\n/**\r\n * Fetch one record which matches given conditions\r\n *\r\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\r\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\r\n * @param {Object} [options] - Query options.\r\n * @param {Number} [options.limit] - Maximum number of records the query will return.\r\n * @param {Number} [options.offset] - Offset number where begins returning results.\r\n * @param {Number} [options.skip] - Synonym of options.offset.\r\n * @param {Callback.<Record>} [callback] - Callback function\r\n * @returns {Query.<Record>}\r\n */\r\nSObject.prototype.findOne = function(conditions, fields, options, callback) {\r\n  if (typeof conditions === 'function') {\r\n    callback = conditions;\r\n    conditions = {};\r\n    fields = null;\r\n    options = null;\r\n  } else if (typeof fields === 'function') {\r\n    callback = fields;\r\n    fields = null;\r\n    options = null;\r\n  } else if (typeof options === 'function') {\r\n    callback = options;\r\n    options = null;\r\n  }\r\n  options = _.extend(options || {}, { limit: 1 });\r\n  var query = this.find(conditions, fields, options);\r\n  query.setResponseTarget(Query.ResponseTargets.SingleRecord);\r\n  if (callback) { query.run(callback); }\r\n  return query;\r\n};\r\n\r\n/**\r\n * Find and fetch records only by specifying fields to fetch.\r\n *\r\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\r\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\r\n * @returns {Query.<Array.<Record>>}\r\n */\r\nSObject.prototype.select = function(fields, callback) {\r\n  return this.find(null, fields, null, callback);\r\n};\r\n\r\n/**\r\n * Count num of records which matches given conditions\r\n *\r\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\r\n * @param {Callback.<Number>} [callback] - Callback function\r\n * @returns {Query.<Number>}\r\n */\r\nSObject.prototype.count = function(conditions, callback) {\r\n  if (typeof conditions === 'function') {\r\n    callback = conditions;\r\n    conditions = {};\r\n  }\r\n  var query = this.find(conditions, { \"count()\" : true });\r\n  query.setResponseTarget(\"Count\");\r\n  if (callback) { query.run(callback); }\r\n  return query;\r\n};\r\n\r\n\r\n/**\r\n * Call Bulk#load() to execute bulkload, returning batch object\r\n *\r\n * @param {String} operation - Bulk load operation ('insert', 'update', 'upsert', 'delete', or 'hardDelete')\r\n * @param {Object} [options] - Options for bulk loading operation\r\n * @param {String} [options.extIdField] - External ID field name (used when upsert operation).\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulkload. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.bulkload = function(operation, options, input, callback) {\r\n  return this._conn.bulk.load(this.type, operation, options, input, callback);\r\n};\r\n\r\n/**\r\n * Synonym of SObject#createBulk()\r\n *\r\n * @method SObject#insertBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\n/**\r\n * Bulkly insert input data using bulk API\r\n *\r\n * @method SObject#createBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.insertBulk =\r\nSObject.prototype.createBulk = function(input, callback) {\r\n  return this.bulkload(\"insert\", input, callback);\r\n};\r\n\r\n/**\r\n * Bulkly update records by input data using bulk API\r\n *\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk update Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.updateBulk = function(input, callback) {\r\n  return this.bulkload(\"update\", input, callback);\r\n};\r\n\r\n/**\r\n * Bulkly upsert records by input data using bulk API\r\n *\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk upsert. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {String} [options.extIdField] - External ID field name\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.upsertBulk = function(input, extIdField, callback) {\r\n  return this.bulkload(\"upsert\", { extIdField: extIdField }, input, callback);\r\n};\r\n\r\n/**\r\n * Synonym of SObject#destroyBulk()\r\n *\r\n * @method SObject#deleteBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\n/**\r\n * Bulkly delete records specified by input data using bulk API\r\n *\r\n * @method SObject#destroyBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.deleteBulk =\r\nSObject.prototype.destroyBulk = function(input, callback) {\r\n  return this.bulkload(\"delete\", input, callback);\r\n};\r\n\r\n/**\r\n * Synonym of SObject#destroyHardBulk()\r\n *\r\n * @method SObject#deleteHardBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\n/**\r\n * Bulkly hard delete records specified in input data using bulk API\r\n *\r\n * @method SObject#destroyHardBulk\r\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Bulk~Batch}\r\n */\r\nSObject.prototype.deleteHardBulk =\r\nSObject.prototype.destroyHardBulk = function(input, callback) {\r\n  return this.bulkload(\"hardDelete\", input, callback);\r\n};\r\n\r\n/**\r\n * Retrieve recently accessed records\r\n *\r\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<RecordResult>>}\r\n */\r\nSObject.prototype.recent = function (callback) {\r\n  return this._conn.recent(this.type, callback);\r\n};\r\n\r\n/**\r\n * Retrieve the updated records\r\n *\r\n * @param {String|Date} start - start date or string representing the start of the interval\r\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\r\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\r\n * @returns {Promise.<UpdatedRecordsInfo>}\r\n */\r\nSObject.prototype.updated = function (start, end, callback) {\r\n  return this._conn.updated(this.type, start, end, callback);\r\n};\r\n\r\n/**\r\n * Retrieve the deleted records\r\n *\r\n * @param {String|Date} start - start date or string representing the start of the interval\r\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\r\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\r\n * @returns {Promise.<DeletedRecordsInfo>}\r\n */\r\nSObject.prototype.deleted = function (start, end, callback) {\r\n  return this._conn.deleted(this.type, start, end, callback);\r\n};\r\n\r\n/**\r\n * @typedef {Object} LayoutInfo\r\n * @prop {Array.<Object>} layouts - Array of layouts\r\n * @prop {Array.<Object>} recordTypeMappings - Array of record type mappings\r\n */ \r\n/**\r\n * Describe layout information for SObject\r\n *\r\n * @param {String} [layoutName] - Name of named layout. (e.g. UserAlt in User SObject)\r\n * @param {Callback.<LayoutInfo>} [callback] - Callback function\r\n * @returns {Promise.<LayoutInfo>}\r\n */\r\nSObject.prototype.layouts = function(layoutName, callback) {\r\n  if (typeof layoutName === 'function') {\r\n    callback = layoutName;\r\n    layoutName = null;\r\n  }\r\n  var url = \"/sobjects/\" + this.type + \"/describe/\" + (layoutName ? \"namedLayouts/\"+layoutName : \"layouts\");\r\n  return this._conn.request(url, callback);\r\n};\r\n\r\n/**\r\n * @typedef {Object} CompactLayoutInfo\r\n * @prop {Array.<Object>} compactLayouts - Array of compact layouts\r\n * @prop {String} defaultCompactLayoutId - ID of default compact layout\r\n * @prop {Array.<Object>} recordTypeCompactLayoutMappings - Array of record type mappings\r\n */ \r\n/**\r\n * Describe compact layout information defined for SObject\r\n *\r\n * @param {Callback.<CompactLayoutInfo>} [callback] - Callback function\r\n * @returns {Promise.<CompactLayoutInfo>}\r\n */\r\nSObject.prototype.compactLayouts = function(callback) {\r\n  var url = \"/sobjects/\" + this.type + \"/describe/compactLayouts\";\r\n  return this._conn.request(url, callback);\r\n};\r\n\r\n\r\n/**\r\n * @typedef {Object} ApprovalLayoutInfo\r\n * @prop {Array.<Object>} approvalLayouts - Array of approval layouts\r\n */ \r\n/**\r\n * Describe compact layout information defined for SObject\r\n *\r\n * @param {Callback.<ApprovalLayoutInfo>} [callback] - Callback function\r\n * @returns {Promise.<ApprovalLayoutInfo>}\r\n */\r\nSObject.prototype.approvalLayouts = function(callback) {\r\n  var url = \"/sobjects/\" + this.type + \"/describe/approvalLayouts\";\r\n  return this._conn.request(url, callback);\r\n};\r\n\r\n/**\r\n * Returns the list of list views for the SObject\r\n *\r\n * @param {Callback.<ListViewsInfo>} [callback] - Callback function\r\n * @returns {Promise.<ListViewsInfo>}\r\n */\r\nSObject.prototype.listviews = function(callback) {\r\n  var url = this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews';\r\n  return this._conn.request(url, callback);\r\n};\r\n\r\n/**\r\n * Returns the list view info in specifed view id \r\n *\r\n * @param {String} id - List view ID\r\n * @returns {ListView}\r\n */\r\nSObject.prototype.listview = function(id) {\r\n  return new ListView(this._conn, this.type, id);\r\n};\r\n\r\n/**\r\n * Returns all registered quick actions for the SObject\r\n *\r\n * @param {Callback.<Array.<QuickAction~QuickActionInfo>>} [callback] - Callback function\r\n * @returns {Promise.<Array.<QuickAction~QuickActionInfo>>}\r\n */\r\nSObject.prototype.quickActions = function(callback) {\r\n  return this._conn.request(\"/sobjects/\" + this.type + \"/quickActions\").thenCall(callback);\r\n};\r\n\r\n/**\r\n * Get reference for specified quick aciton in the SObject\r\n *\r\n * @param {String} actionName - Name of the quick action\r\n * @returns {QuickAction}\r\n */\r\nSObject.prototype.quickAction = function(actionName) {\r\n  return new QuickAction(this._conn, \"/sobjects/\" + this.type + \"/quickActions/\" + actionName);\r\n};\r\n\r\n\r\n/**\r\n * A class for organizing list view information\r\n * \r\n * @protected\r\n * @class ListView\r\n * @param {Connection} conn - Connection instance\r\n * @param {SObject} type - SObject type\r\n * @param {String} id - List view ID\r\n */\r\nvar ListView = function(conn, type, id) {\r\n  this._conn = conn;\r\n  this.type = type;\r\n  this.id = id;\r\n};\r\n\r\n/**\r\n * Executes query for the list view and returns the resulting data and presentation information.\r\n *\r\n * @param {Callback.<ListViewResultInfo>} [callback] - Callback function\r\n * @returns {Promise.<ListViewResultInfo>}\r\n */\r\nListView.prototype.results = function(callback) {\r\n  var url =  this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews/' + this.id + '/results';\r\n  return this._conn.request(url, callback);\r\n};\r\n\r\n\r\n/**\r\n * Returns detailed information about a list view\r\n *\r\n * @param {Callback.<ListViewDescribeInfo>} [callback] - Callback function\r\n * @returns {Promise.<ListViewDescribeInfo>}\r\n */\r\nListView.prototype.describe = function(callback) {\r\n  var url =  this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews/' + this.id + '/describe';\r\n  return this._conn.request(url, callback);\r\n};\n},{\"./cache\":5,\"./query\":16,\"./quick-action\":17,\"./record\":19,\"underscore\":55}],21:[function(require,module,exports){\n/**\r\n * @file Create and build SOQL string from configuration\r\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\r\n */\r\n\r\n'use strict';\r\n\r\nvar _      = require(\"underscore\"),\r\n    SfDate = require(\"./date\");\r\n\r\n\r\n/**\r\n * Create SOQL\r\n * @private\r\n */\r\nfunction createSOQL(query) {\r\n  var soql = [\r\n    \"SELECT \",\r\n    createFieldsClause(query.fields, query.includes),\r\n    \" FROM \",\r\n    query.table\r\n  ].join(\"\");\r\n  var cond = createConditionClause(query.conditions);\r\n  if (cond) {\r\n    soql += \" WHERE \" + cond;\r\n  }\r\n  var orderby = createOrderByClause(query.sort);\r\n  if (orderby) {\r\n    soql += \" ORDER BY \" + orderby;\r\n  }\r\n  if (query.limit) {\r\n    soql += \" LIMIT \" + query.limit;\r\n  }\r\n  if (query.offset) {\r\n    soql += \" OFFSET \" + query.offset;\r\n  }\r\n  return soql;\r\n}\r\n\r\n/** @private **/\r\nfunction createFieldsClause(fields, childQueries) {\r\n  childQueries = _.map(_.values(childQueries || {}), function(cquery) {\r\n    return '(' + createSOQL(cquery) + ')';\r\n  });\r\n  return (fields || [ \"Id\" ]).concat(childQueries).join(', ');\r\n}\r\n\r\n/** @private **/\r\nfunction createConditionClause(conditions, operator, depth) {\r\n  if (_.isString(conditions)) {\r\n    return conditions;\r\n  }\r\n  conditions = conditions || [];\r\n  operator = operator || \"AND\";\r\n  depth = depth || 0;\r\n  if (!isArray(conditions)) { // if passed in hash object\r\n    conditions = _.keys(conditions).map(function(key) {\r\n      return {\r\n        key: key,\r\n        value: conditions[key]\r\n      };\r\n    });\r\n  } else {\r\n    conditions = conditions.map(function(cond) {\r\n      var conds = [];\r\n      for (var key in cond) {\r\n        conds.push({\r\n          key: key,\r\n          value: cond[key]\r\n        });\r\n      }\r\n      return conds.length>1 ? conds : conds[0];\r\n    });\r\n  }\r\n  conditions = conditions.map(function(cond) {\r\n    var d = depth+1, op;\r\n    switch (cond.key) {\r\n      case \"$or\" :\r\n      case \"$and\" :\r\n      case \"$not\" :\r\n        if (operator !== \"NOT\" && conditions.length === 1) {\r\n          d = depth; // not change tree depth\r\n        }\r\n        op = cond.key === \"$or\" ? \"OR\" :\r\n             cond.key === \"$and\" ? \"AND\" :\r\n             \"NOT\";\r\n        return createConditionClause(cond.value, op, d);\r\n      default:\r\n        return createFieldExpression(cond.key, cond.value);\r\n    }\r\n  }).filter(function(expr) { return expr; });\r\n\r\n  var paren;\r\n  if (operator === 'NOT') {\r\n    paren = depth > 0;\r\n    return (paren ? \"(\" : \"\") + \"NOT \" + conditions[0] + (paren ? \")\" : \"\");\r\n  } else {\r\n    paren = depth > 0 && conditions.length > 1;\r\n    return (paren ? \"(\" : \"\") + conditions.join(\" \"+operator+\" \") + (paren ? \")\" : \"\");\r\n  }\r\n}\r\n\r\nvar opMap = {\r\n  \"=\"     : \"=\",\r\n  \"$eq\"   : \"=\",\r\n  \"!=\"    : \"!=\",\r\n  \"$ne\"   : \"!=\",\r\n  \">\"     : \">\",\r\n  \"$gt\"   : \">\",\r\n  \"<\"     : \"<\",\r\n  \"$lt\"   : \"<\",\r\n  \">=\"    : \">=\",\r\n  \"$gte\"  : \">=\",\r\n  \"<=\"    : \"<=\",\r\n  \"$lte\"  : \"<=\",\r\n  \"$like\" : \"LIKE\",\r\n  \"$nlike\" : \"NOT LIKE\",\r\n  \"$in\"   : \"IN\",\r\n  \"$nin\"  : \"NOT IN\",\r\n  \"$exists\" : \"EXISTS\"\r\n};\r\n\r\n/** @private **/\r\nfunction createFieldExpression(field, value) {\r\n  var op = \"$eq\";\r\n\r\n  // Assume the `$in` operator if value is an array and none was supplied.\r\n  if (_.isArray(value)) { op = \"$in\"; }\r\n  // Otherwise, if an object was passed then process the supplied ops.\r\n  else if (_.isObject(value)) {\r\n    var _value;\r\n    for (var k in value) {\r\n      if (k[0] === \"$\") {\r\n        op = k;\r\n        value = value[k];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  var sfop = opMap[op];\r\n  if (!sfop || _.isUndefined(value)) { return null; }\r\n  var valueExpr = createValueExpression(value);\r\n  if (_.isUndefined(valueExpr)) { return null; }\r\n  switch (sfop) {\r\n    case \"NOT LIKE\":\r\n      return \"(\" + [ \"NOT\", field, 'LIKE', valueExpr ].join(\" \") + \")\";\r\n    case \"EXISTS\":\r\n      return [ field, value ? \"!=\" : \"=\", \"null\" ].join(\" \");\r\n    default:\r\n      return [ field, sfop, valueExpr ].join(\" \");\r\n  }\r\n}\r\n\r\n/** @private **/\r\nfunction createValueExpression(value) {\r\n  if (isArray(value)) {\r\n    return value.length > 0 ?\r\n           \"(\" + value.map(createValueExpression).join(\", \") + \")\" :\r\n           undefined;\r\n  }\r\n  if (value instanceof SfDate) {\r\n    return value.toString();\r\n  }\r\n  if (_.isString(value)) {\r\n    return \"'\" + escapeSOQLString(value) + \"'\";\r\n  }\r\n  if (_.isNumber(value)) {\r\n    return (value).toString();\r\n  }\r\n  if (_.isNull(value)) {\r\n    return \"null\";\r\n  }\r\n  return value;\r\n}\r\n\r\n/** @private **/\r\nfunction escapeSOQLString(str) {\r\n  return String(str || '').replace(/'/g, \"\\\\'\");\r\n}\r\n\r\n/** @private **/\r\nfunction isArray(a) {\r\n  return _.isObject(a) && _.isFunction(a.pop);\r\n}\r\n\r\n\r\n/** @private **/\r\nfunction createOrderByClause(sort) {\r\n  sort = sort || [];\r\n  if (_.isString(sort)) {\r\n    if (/,|\\s+(asc|desc)\\s*$/.test(sort)) {\r\n      // must be specified in pure \"order by\" clause. Return raw config.\r\n      return sort;\r\n    }\r\n    // sort order in mongoose-style expression.\r\n    // e.g. \"FieldA -FieldB\" => \"ORDER BY FieldA ASC, FieldB DESC\"\r\n    sort = sort.split(/\\s+/).map(function(field) {\r\n      var dir = \"ASC\"; // ascending\r\n      var flag = field[0];\r\n      if (flag === '-') {\r\n        dir = \"DESC\";\r\n        field = field.substring(1);\r\n      } else if (flag === '+') {\r\n        field = field.substring(1);\r\n      }\r\n      return [ field, dir ];\r\n    });\r\n  } else if (!isArray(sort)) {\r\n    sort = _.keys(sort).map(function(field) {\r\n      var dir = sort[field];\r\n      return [ field, dir ];\r\n    });\r\n  }\r\n  return sort.map(function(s) {\r\n    var field = s[0], dir = s[1];\r\n    switch (String(dir)) {\r\n      case \"DESC\":\r\n      case \"desc\":\r\n      case \"descending\":\r\n      case \"-\":\r\n      case \"-1\":\r\n        dir = \"DESC\";\r\n        break;\r\n      default:\r\n        dir = \"ASC\";\r\n    }\r\n    return field + \" \" + dir;\r\n  }).join(\", \");\r\n}\r\n\r\n\r\nexports.createSOQL = createSOQL;\r\n\r\n\n},{\"./date\":9,\"underscore\":55}],22:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\r\n\r\n'use strict';\r\n\r\nvar inherits = require('inherits'),\r\n    Promise = require('./promise');\r\n\r\n/* */\r\n\r\nvar request = require('request'),\r\n    canvas = require('./browser/canvas'),\r\n    jsonp = require('./browser/jsonp');\r\n\r\n// set options if defaults setting is available in request, which is not available in xhr module.\r\nif (request.defaults) {\r\n  var defaults = {\r\n    followAllRedirects: true\r\n  };\r\n  if (process.env.HTTP_PROXY) {\r\n    defaults.proxy = process.env.HTTP_PROXY;\r\n  }\r\n  if (process.env.HTTP_TIMEOUT) {\r\n    defaults.timeout = process.env.HTTP_TIMEOUT;\r\n  }\r\n  request = request.defaults(defaults);\r\n}\r\n\r\nvar baseUrl;\r\nif (typeof window === 'undefined') {\r\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\r\n} else {\r\n  var apiHost = normalizeApiHost(window.location.host);\r\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\r\n}\r\n\r\n/**\r\n * Add stream() method to promise (and following promise chain), to access original request stream.\r\n * @private\r\n */\r\nfunction streamify(promise, factory) {\r\n  var _then = promise.then;\r\n  promise.then = function() {\r\n    factory();\r\n    var newPromise = _then.apply(promise, arguments);\r\n    return streamify(newPromise, factory);\r\n  };\r\n  promise.stream = factory;\r\n  return promise;\r\n}\r\n\r\n/**\r\n * Normarize Salesforce API host name\r\n * @private\r\n */\r\nfunction normalizeApiHost(apiHost) {\r\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost);\r\n  if (m) {\r\n    apiHost = m[1] + \".salesforce.com\";\r\n  }\r\n  return apiHost;\r\n}\r\n\r\n/**\r\n * Class for HTTP request transport\r\n *\r\n * @class\r\n * @protected\r\n */\r\nvar Transport = module.exports = function() {};\r\n\r\n/**\r\n * Make HTTP request, returns promise instead of stream\r\n *\r\n * @param {Object} params - HTTP request\r\n * @param {Callback.<Object>} [callback] - Calback Function\r\n * @param {Callback.<Object>} [options] - Options\r\n * @returns {Promise.<Object>}\r\n */\r\nTransport.prototype.httpRequest = function(params, callback, options) {\r\n  var deferred = Promise.defer();\r\n  var req;\r\n  var httpRequest = request;\r\n  if (options && options.jsonp && jsonp.supported) {\r\n    httpRequest = jsonp.createRequest(options.jsonp);\r\n  } else if (options && options.signedRequest && canvas.supported) {\r\n    httpRequest = canvas.createRequest(options.signedRequest);\r\n  }\r\n  var createRequest = function() {\r\n    if (!req) {\r\n      req = httpRequest(params, function(err, response) {\r\n        if (err) {\r\n          deferred.reject(err);\r\n        } else {\r\n          deferred.resolve(response);\r\n        }\r\n      });\r\n    }\r\n    return req;\r\n  };\r\n  return streamify(deferred.promise, createRequest).thenCall(callback);\r\n};\r\n\r\n/**\r\n * Class for HTTP request transport using AJAX proxy service\r\n *\r\n * @class Transport~ProxyTransport\r\n * @protected\r\n * @extends Transport\r\n * @param {String} proxyUrl - AJAX Proxy server URL\r\n */\r\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\r\n  this._proxyUrl = proxyUrl;\r\n};\r\n\r\ninherits(ProxyTransport, Transport);\r\n\r\n/**\r\n * Make HTTP request via AJAX proxy\r\n *\r\n * @method Transport~ProxyTransport#httpRequest\r\n * @param {Object} params - HTTP request\r\n * @param {Callback.<Object>} [callback] - Calback Function\r\n * @returns {Promise.<Object>}\r\n */\r\nProxyTransport.prototype.httpRequest = function(params, callback) {\r\n  var url = params.url;\r\n  if (url.indexOf(\"/\") === 0) {\r\n    url = baseUrl + url;\r\n  }\r\n  var proxyParams = {\r\n    method: params.method,\r\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\r\n    headers: {\r\n      'salesforceproxy-endpoint': url\r\n    }\r\n  };\r\n  if (params.body || params.body === \"\") {\r\n    proxyParams.body = params.body;\r\n  }\r\n  if (params.headers) {\r\n    for (var name in params.headers) {\r\n      proxyParams.headers[name] = params.headers[name];\r\n    }\r\n  }\r\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\r\n};\r\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./promise\":15,\"_process\":30,\"inherits\":38,\"request\":23}],23:[function(require,module,exports){\n'use strict';\r\n\r\nvar Duplex = require('readable-stream').Duplex;\r\nvar _ = require('underscore');\r\n\r\nmodule.exports = function(params, callback) {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.open(params.method, params.url);\r\n  if (params.headers) {\r\n    for (var header in params.headers) {\r\n      xhr.setRequestHeader(header, params.headers[header]);\r\n    }\r\n  }\r\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\r\n  var response;\r\n  var str = new Duplex();\r\n  str._read = function(size) {\r\n    if (response) {\r\n      str.push(response.body);\r\n    }\r\n  };\r\n  var bufs = [];\r\n  var sent = false;\r\n  str._write = function(chunk, encoding, callback) {\r\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\r\n    callback();\r\n  };\r\n  str.on('finish', function() {\r\n    if (!sent) {\r\n      xhr.send(bufs.join(''));\r\n      sent = true;\r\n    }\r\n  });\r\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\r\n    xhr.send(params.body);\r\n    sent = true;\r\n  }\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState === 4) {\r\n      var headerNames = getResponseHeaderNames(xhr);\r\n      var headers = {};\r\n      _.forEach(headerNames, function(headerName) {\r\n        if (headerName) {\r\n          headers[headerName] = xhr.getResponseHeader(headerName);\r\n        }\r\n      });\r\n      response = {\r\n        statusCode: xhr.status,\r\n        headers: headers,\r\n        body: xhr.response\r\n      };\r\n      if (!response.statusCode) {\r\n        response.statusCode = 400;\r\n        response.body = \"Access Declined\";\r\n      }\r\n      if (callback) {\r\n        callback(null, response, response.body);\r\n      }\r\n      str.end();\r\n    }\r\n  };\r\n  return str;\r\n};\r\n\r\nfunction getResponseHeaderNames(xhr) {\r\n  var headerLines = (xhr.getAllResponseHeaders() || \"\").split(/[\\r\\n]+/);\r\n  return _.map(headerLines, function(headerLine) {\r\n    return headerLine.split(/\\s*:/)[0].toLowerCase();\r\n  });\r\n}\r\n\r\n\n},{\"readable-stream\":50,\"underscore\":55}],24:[function(require,module,exports){\n\n},{}],25:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding) {\n  var self = this\n  if (!(self instanceof Buffer)) return new Buffer(subject, encoding)\n\n  var type = typeof subject\n  var length\n\n  if (type === 'number') {\n    length = +subject\n  } else if (type === 'string') {\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) {\n    // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data)) subject = subject.data\n    length = +subject.length\n  } else {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (length > kMaxLength) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x' +\n      kMaxLength.toString(16) + ' bytes')\n  }\n\n  if (length < 0) length = 0\n  else length >>>= 0 // coerce to uint32\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    self = Buffer._augment(new Uint8Array(length)) // eslint-disable-line consistent-this\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    self.length = length\n    self._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    self._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++) {\n        self[i] = subject.readUInt8(i)\n      }\n    } else {\n      for (i = 0; i < length; i++) {\n        self[i] = ((subject[i] % 256) + 256) % 256\n      }\n    }\n  } else if (type === 'string') {\n    self.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (i = 0; i < length; i++) {\n      self[i] = 0\n    }\n  }\n\n  if (length > 0 && length <= Buffer.poolSize) self.parent = rootParent\n\n  return self\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function byteLength (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function toString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n\n  if (length < 0 || offset < 0 || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(\n      this, value, offset, byteLength,\n      Math.pow(2, 8 * byteLength - 1) - 1,\n      -Math.pow(2, 8 * byteLength - 1)\n    )\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(\n      this, value, offset, byteLength,\n      Math.pow(2, 8 * byteLength - 1) - 1,\n      -Math.pow(2, 8 * byteLength - 1)\n    )\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, target_start, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (target_start >= target.length) target_start = target.length\n  if (!target_start) target_start = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (target_start < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - target_start < end - start) {\n    end = target.length - target_start + start\n  }\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z\\-]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n  var i = 0\n\n  for (; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (leadSurrogate) {\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          leadSurrogate = codePoint\n          continue\n        } else {\n          // valid surrogate pair\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n          leadSurrogate = null\n        }\n      } else {\n        // no lead yet\n\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else {\n          // valid lead\n          leadSurrogate = codePoint\n          continue\n        }\n      }\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n      leadSurrogate = null\n    }\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x200000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n},{\"base64-js\":26,\"ieee754\":27,\"is-array\":28}],26:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],27:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],28:[function(require,module,exports){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n},{}],29:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],30:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],31:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],32:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":31,\"./encode\":32}],34:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":29,\"inherits\":38,\"readable-stream/duplex.js\":40,\"readable-stream/passthrough.js\":49,\"readable-stream/readable.js\":50,\"readable-stream/transform.js\":51,\"readable-stream/writable.js\":52}],35:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":25}],36:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],37:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./support/isBuffer\":36,\"_process\":30,\"inherits\":38}],38:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],39:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof self !== \"undefined\") {\n        self.Q = definition();\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function(prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function() {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":30}],40:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":41}],41:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":43,\"./_stream_writable\":45,\"_process\":30,\"core-util-is\":46,\"inherits\":38}],42:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":44,\"core-util-is\":46,\"inherits\":38}],43:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":41,\"_process\":30,\"buffer\":25,\"core-util-is\":46,\"events\":29,\"inherits\":38,\"isarray\":47,\"stream\":34,\"string_decoder/\":48,\"util\":24}],44:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":41,\"core-util-is\":46,\"inherits\":38}],45:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":41,\"_process\":30,\"buffer\":25,\"core-util-is\":46,\"inherits\":38,\"stream\":34}],46:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":25}],47:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],48:[function(require,module,exports){\narguments[4][35][0].apply(exports,arguments)\n},{\"buffer\":25,\"dup\":35}],49:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":42}],50:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":41,\"./lib/_stream_passthrough.js\":42,\"./lib/_stream_readable.js\":43,\"./lib/_stream_transform.js\":44,\"./lib/_stream_writable.js\":45,\"stream\":34}],51:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":44}],52:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":45}],53:[function(require,module,exports){\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n},{}],54:[function(require,module,exports){\n(function (process){\nvar Transform = require('readable-stream/transform')\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n}).call(this,require('_process'))\n},{\"_process\":30,\"readable-stream/transform\":51,\"util\":37,\"xtend\":53}],55:[function(require,module,exports){\n//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n},{}],56:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":58}],57:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n}).call(this);\n\n},{}],58:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var bom, builder, escapeCDATA, events, isEmpty, processName, processors, requiresCDATA, sax, wrapCDATA,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  requiresCDATA = function(entry) {\n    return entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0;\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = arguments.callee(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = arguments.callee(element.ele(key), child).up();\n              } else {\n                element = element.ele(key, child.toString()).up();\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk;\n      if (this.remaining.length <= this.options.chunkSize) {\n        chunk = this.remaining;\n        this.remaining = '';\n        this.saxParser = this.saxParser.write(chunk);\n        return this.saxParser.close();\n      } else {\n        chunk = this.remaining.substr(0, this.options.chunkSize);\n        this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n        this.saxParser = this.saxParser.write(chunk);\n        return setImmediate(this.processAsync);\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processName(_this.options.valueProcessors, obj[charkey]) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      str = str.toString();\n      if (str.trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n},{\"./bom\":56,\"./processors\":57,\"events\":29,\"sax\":59,\"xmlbuilder\":76}],59:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports);\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":25,\"stream\":34,\"string_decoder\":35}],60:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":119}],61:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":68,\"./XMLDocType\":69,\"./XMLElement\":70,\"./XMLStringifier\":74}],62:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":71,\"lodash/object/create\":119}],63:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLComment, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":71,\"lodash/object/create\":119}],64:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":119}],65:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash/object/create');\n\n  isArray = require('lodash/lang/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/lang/isArray\":111,\"lodash/object/create\":119}],66:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/lang/isObject\":115,\"lodash/object/create\":119}],67:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":119}],68:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":71,\"lodash/lang/isObject\":115,\"lodash/object/create\":119}],69:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLProcessingInstruction, create, isObject;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var ref, ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        ref = pubID, pubID = ref.pubID, sysID = ref.sysID;\n      }\n      if (sysID == null) {\n        ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var child;\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, i, indent, len, newline, offset, pretty, r, ref, ref1, ref2, ref3, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        ref3 = this.children;\n        for (i = 0, len = ref3.length; i < len; i++) {\n          child = ref3[i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":62,\"./XMLComment\":63,\"./XMLDTDAttList\":64,\"./XMLDTDElement\":65,\"./XMLDTDEntity\":66,\"./XMLDTDNotation\":67,\"./XMLProcessingInstruction\":72,\"lodash/lang/isObject\":115,\"lodash/object/create\":119}],70:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, every, isArray, isFunction, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  isArray = require('lodash/lang/isArray');\n\n  isFunction = require('lodash/lang/isFunction');\n\n  every = require('lodash/collection/every');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, i, len, pi, ref, ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attributes = {};\n      ref = this.attributes;\n      for (attName in ref) {\n        if (!hasProp.call(ref, attName)) continue;\n        att = ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      ref1 = this.instructions;\n      for (i = 0, len = ref1.length; i < len; i++) {\n        pi = ref1[i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, i, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (i = 0, len = name.length; i < len; i++) {\n          attName = name[i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, instruction, len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, i, indent, instruction, j, len, len1, name, newline, offset, pretty, r, ref, ref1, ref2, ref3, ref4, ref5, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      ref3 = this.instructions;\n      for (i = 0, len = ref3.length; i < len; i++) {\n        instruction = ref3[i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      ref4 = this.attributes;\n      for (name in ref4) {\n        if (!hasProp.call(ref4, name)) continue;\n        att = ref4[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0 || every(this.children, function(e) {\n        return e.value === '';\n      })) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        ref5 = this.children;\n        for (j = 0, len1 = ref5.length; j < len1; j++) {\n          child = ref5[j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":60,\"./XMLNode\":71,\"./XMLProcessingInstruction\":72,\"lodash/collection/every\":77,\"lodash/lang/isArray\":111,\"lodash/lang/isFunction\":113,\"lodash/lang/isObject\":115,\"lodash/object/create\":119}],71:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLRaw, XMLText, isArray, isEmpty, isFunction, isObject,\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash/lang/isObject');\n\n  isArray = require('lodash/lang/isArray');\n\n  isFunction = require('lodash/lang/isFunction');\n\n  isEmpty = require('lodash/lang/isEmpty');\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n      if (XMLElement === null) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n      }\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, j, key, lastChild, len, ref, val;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref = [])), ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var doc, doctype;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":62,\"./XMLComment\":63,\"./XMLDeclaration\":68,\"./XMLDocType\":69,\"./XMLElement\":70,\"./XMLRaw\":73,\"./XMLText\":75,\"lodash/lang/isArray\":111,\"lodash/lang/isEmpty\":112,\"lodash/lang/isFunction\":113,\"lodash/lang/isObject\":115}],72:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":119}],73:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLRaw, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":71,\"lodash/object/create\":119}],74:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      ref = (options != null ? options.stringify : void 0) || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],75:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLText, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":71,\"lodash/object/create\":119}],76:[function(require,module,exports){\n// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash/object/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":61,\"lodash/object/assign\":118}],77:[function(require,module,exports){\nvar arrayEvery = require('../internal/arrayEvery'),\n    baseCallback = require('../internal/baseCallback'),\n    baseEvery = require('../internal/baseEvery'),\n    isArray = require('../lang/isArray');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * The predicate is bound to `thisArg` and invoked with three arguments;\n * (value, index|key, collection).\n *\n * If a property name is provided for `predicate` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `predicate` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @alias all\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'active': false },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // using the `_.matches` callback shorthand\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // using the `_.matchesProperty` callback shorthand\n * _.every(users, 'active', false);\n * // => true\n *\n * // using the `_.property` callback shorthand\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, thisArg) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n    predicate = baseCallback(predicate, thisArg, 3);\n  }\n  return func(collection, predicate);\n}\n\nmodule.exports = every;\n\n},{\"../internal/arrayEvery\":78,\"../internal/baseCallback\":80,\"../internal/baseEvery\":84,\"../lang/isArray\":111}],78:[function(require,module,exports){\n/**\n * A specialized version of `_.every` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n},{}],79:[function(require,module,exports){\nvar baseCopy = require('./baseCopy'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `this` binding `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} [customizer] The function to customize assigning values.\n * @returns {Object} Returns the destination object.\n */\nfunction baseAssign(object, source, customizer) {\n  var props = keys(source);\n  if (!customizer) {\n    return baseCopy(source, object, props);\n  }\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? (result !== value) : (value === value)) ||\n        (typeof value == 'undefined' && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\nmodule.exports = baseAssign;\n\n},{\"../object/keys\":120,\"./baseCopy\":81}],80:[function(require,module,exports){\nvar baseMatches = require('./baseMatches'),\n    baseMatchesProperty = require('./baseMatchesProperty'),\n    baseProperty = require('./baseProperty'),\n    bindCallback = require('./bindCallback'),\n    identity = require('../utility/identity'),\n    isBindable = require('./isBindable');\n\n/**\n * The base implementation of `_.callback` which supports specifying the\n * number of arguments to provide to `func`.\n *\n * @private\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction baseCallback(func, thisArg, argCount) {\n  var type = typeof func;\n  if (type == 'function') {\n    return (typeof thisArg != 'undefined' && isBindable(func))\n      ? bindCallback(func, thisArg, argCount)\n      : func;\n  }\n  if (func == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return baseMatches(func);\n  }\n  return typeof thisArg == 'undefined'\n    ? baseProperty(func + '')\n    : baseMatchesProperty(func + '', thisArg);\n}\n\nmodule.exports = baseCallback;\n\n},{\"../utility/identity\":124,\"./baseMatches\":91,\"./baseMatchesProperty\":92,\"./baseProperty\":93,\"./bindCallback\":96,\"./isBindable\":101}],81:[function(require,module,exports){\n/**\n * Copies the properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Array} props The property names to copy.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, object, props) {\n  if (!props) {\n    props = object;\n    object = {};\n  }\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n\n},{}],82:[function(require,module,exports){\n(function (global){\nvar isObject = require('../lang/isObject');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function Object() {}\n  return function(prototype) {\n    if (isObject(prototype)) {\n      Object.prototype = prototype;\n      var result = new Object;\n      Object.prototype = null;\n    }\n    return result || global.Object();\n  };\n}());\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../lang/isObject\":115}],83:[function(require,module,exports){\nvar baseForOwn = require('./baseForOwn'),\n    isLength = require('./isLength'),\n    toObject = require('./toObject');\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nfunction baseEach(collection, iteratee) {\n  var length = collection ? collection.length : 0;\n  if (!isLength(length)) {\n    return baseForOwn(collection, iteratee);\n  }\n  var index = -1,\n      iterable = toObject(collection);\n\n  while (++index < length) {\n    if (iteratee(iterable[index], index, iterable) === false) {\n      break;\n    }\n  }\n  return collection;\n}\n\nmodule.exports = baseEach;\n\n},{\"./baseForOwn\":86,\"./isLength\":104,\"./toObject\":109}],84:[function(require,module,exports){\nvar baseEach = require('./baseEach');\n\n/**\n * The base implementation of `_.every` without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n},{\"./baseEach\":83}],85:[function(require,module,exports){\nvar toObject = require('./toObject');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iterator functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nfunction baseFor(object, iteratee, keysFunc) {\n  var index = -1,\n      iterable = toObject(object),\n      props = keysFunc(object),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    if (iteratee(iterable[key], key, iterable) === false) {\n      break;\n    }\n  }\n  return object;\n}\n\nmodule.exports = baseFor;\n\n},{\"./toObject\":109}],86:[function(require,module,exports){\nvar baseFor = require('./baseFor'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n},{\"../object/keys\":120,\"./baseFor\":85}],87:[function(require,module,exports){\nvar baseIsEqualDeep = require('./baseIsEqualDeep');\n\n/**\n * The base implementation of `_.isEqual` without support for `this` binding\n * `customizer` functions.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, isWhere, stackA, stackB) {\n  // Exit early for identical values.\n  if (value === other) {\n    // Treat `+0` vs. `-0` as not equal.\n    return value !== 0 || (1 / value == 1 / other);\n  }\n  var valType = typeof value,\n      othType = typeof other;\n\n  // Exit early for unlike primitive values.\n  if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n      value == null || other == null) {\n    // Return `false` unless both values are `NaN`.\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, isWhere, stackA, stackB);\n}\n\nmodule.exports = baseIsEqual;\n\n},{\"./baseIsEqualDeep\":88}],88:[function(require,module,exports){\nvar equalArrays = require('./equalArrays'),\n    equalByTag = require('./equalByTag'),\n    equalObjects = require('./equalObjects'),\n    isArray = require('../lang/isArray'),\n    isTypedArray = require('../lang/isTypedArray');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = objToString.call(object);\n    if (objTag == argsTag) {\n      objTag = objectTag;\n    } else if (objTag != objectTag) {\n      objIsArr = isTypedArray(object);\n    }\n  }\n  if (!othIsArr) {\n    othTag = objToString.call(other);\n    if (othTag == argsTag) {\n      othTag = objectTag;\n    } else if (othTag != objectTag) {\n      othIsArr = isTypedArray(other);\n    }\n  }\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !(objIsArr || objIsObj)) {\n    return equalByTag(object, other, objTag);\n  }\n  var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n      othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n  if (valWrapped || othWrapped) {\n    return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isWhere, stackA, stackB);\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  // For more information on detecting circular references see https://es5.github.io/#JO.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == object) {\n      return stackB[length] == other;\n    }\n  }\n  // Add `object` and `other` to the stack of traversed objects.\n  stackA.push(object);\n  stackB.push(other);\n\n  var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isWhere, stackA, stackB);\n\n  stackA.pop();\n  stackB.pop();\n\n  return result;\n}\n\nmodule.exports = baseIsEqualDeep;\n\n},{\"../lang/isArray\":111,\"../lang/isTypedArray\":117,\"./equalArrays\":98,\"./equalByTag\":99,\"./equalObjects\":100}],89:[function(require,module,exports){\n/**\n * The base implementation of `_.isFunction` without support for environments\n * with incorrect `typeof` results.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n */\nfunction baseIsFunction(value) {\n  // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n  // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n  return typeof value == 'function' || false;\n}\n\nmodule.exports = baseIsFunction;\n\n},{}],90:[function(require,module,exports){\nvar baseIsEqual = require('./baseIsEqual');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.isMatch` without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} props The source property names to match.\n * @param {Array} values The source values to match.\n * @param {Array} strictCompareFlags Strict comparison flags for source values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n  var length = props.length;\n  if (object == null) {\n    return !length;\n  }\n  var index = -1,\n      noCustomizer = !customizer;\n\n  while (++index < length) {\n    if ((noCustomizer && strictCompareFlags[index])\n          ? values[index] !== object[props[index]]\n          : !hasOwnProperty.call(object, props[index])\n        ) {\n      return false;\n    }\n  }\n  index = -1;\n  while (++index < length) {\n    var key = props[index];\n    if (noCustomizer && strictCompareFlags[index]) {\n      var result = hasOwnProperty.call(object, key);\n    } else {\n      var objValue = object[key],\n          srcValue = values[index];\n\n      result = customizer ? customizer(objValue, srcValue, key) : undefined;\n      if (typeof result == 'undefined') {\n        result = baseIsEqual(srcValue, objValue, customizer, true);\n      }\n    }\n    if (!result) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n},{\"./baseIsEqual\":87}],91:[function(require,module,exports){\nvar baseIsMatch = require('./baseIsMatch'),\n    isStrictComparable = require('./isStrictComparable'),\n    keys = require('../object/keys');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.matches` which does not clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var props = keys(source),\n      length = props.length;\n\n  if (length == 1) {\n    var key = props[0],\n        value = source[key];\n\n    if (isStrictComparable(value)) {\n      return function(object) {\n        return object != null && object[key] === value && hasOwnProperty.call(object, key);\n      };\n    }\n  }\n  var values = Array(length),\n      strictCompareFlags = Array(length);\n\n  while (length--) {\n    value = source[props[length]];\n    values[length] = value;\n    strictCompareFlags[length] = isStrictComparable(value);\n  }\n  return function(object) {\n    return baseIsMatch(object, props, values, strictCompareFlags);\n  };\n}\n\nmodule.exports = baseMatches;\n\n},{\"../object/keys\":120,\"./baseIsMatch\":90,\"./isStrictComparable\":106}],92:[function(require,module,exports){\nvar baseIsEqual = require('./baseIsEqual'),\n    isStrictComparable = require('./isStrictComparable');\n\n/**\n * The base implementation of `_.matchesProperty` which does not coerce `key`\n * to a string.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} value The value to compare.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(key, value) {\n  if (isStrictComparable(value)) {\n    return function(object) {\n      return object != null && object[key] === value;\n    };\n  }\n  return function(object) {\n    return object != null && baseIsEqual(value, object[key], null, true);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n},{\"./baseIsEqual\":87,\"./isStrictComparable\":106}],93:[function(require,module,exports){\n/**\n * The base implementation of `_.property` which does not coerce `key` to a string.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n},{}],94:[function(require,module,exports){\nvar identity = require('../utility/identity'),\n    metaMap = require('./metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n\n},{\"../utility/identity\":124,\"./metaMap\":107}],95:[function(require,module,exports){\n/**\n * Converts `value` to a string if it is not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  if (typeof value == 'string') {\n    return value;\n  }\n  return value == null ? '' : (value + '');\n}\n\nmodule.exports = baseToString;\n\n},{}],96:[function(require,module,exports){\nvar identity = require('../utility/identity');\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (typeof thisArg == 'undefined') {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nmodule.exports = bindCallback;\n\n},{\"../utility/identity\":124}],97:[function(require,module,exports){\nvar bindCallback = require('./bindCallback'),\n    isIterateeCall = require('./isIterateeCall');\n\n/**\n * Creates a function that assigns properties of source object(s) to a given\n * destination object.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return function() {\n    var args = arguments,\n        length = args.length,\n        object = args[0];\n\n    if (length < 2 || object == null) {\n      return object;\n    }\n    var customizer = args[length - 2],\n        thisArg = args[length - 1],\n        guard = args[3];\n\n    if (length > 3 && typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = (length > 2 && typeof thisArg == 'function') ? thisArg : null;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(args[1], args[2], guard)) {\n      customizer = length == 3 ? null : customizer;\n      length = 2;\n    }\n    var index = 0;\n    while (++index < length) {\n      var source = args[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createAssigner;\n\n},{\"./bindCallback\":96,\"./isIterateeCall\":103}],98:[function(require,module,exports){\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing arrays.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var index = -1,\n      arrLength = array.length,\n      othLength = other.length,\n      result = true;\n\n  if (arrLength != othLength && !(isWhere && othLength > arrLength)) {\n    return false;\n  }\n  // Deep compare the contents, ignoring non-numeric properties.\n  while (result && ++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    result = undefined;\n    if (customizer) {\n      result = isWhere\n        ? customizer(othValue, arrValue, index)\n        : customizer(arrValue, othValue, index);\n    }\n    if (typeof result == 'undefined') {\n      // Recursively compare arrays (susceptible to call stack limits).\n      if (isWhere) {\n        var othIndex = othLength;\n        while (othIndex--) {\n          othValue = other[othIndex];\n          result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n          if (result) {\n            break;\n          }\n        }\n      } else {\n        result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n      }\n    }\n  }\n  return !!result;\n}\n\nmodule.exports = equalArrays;\n\n},{}],99:[function(require,module,exports){\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} value The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag) {\n  switch (tag) {\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object)\n        ? other != +other\n        // But, treat `-0` vs. `+0` as not equal.\n        : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n},{}],100:[function(require,module,exports){\nvar keys = require('../object/keys');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isWhere) {\n    return false;\n  }\n  var hasCtor,\n      index = -1;\n\n  while (++index < objLength) {\n    var key = objProps[index],\n        result = hasOwnProperty.call(other, key);\n\n    if (result) {\n      var objValue = object[key],\n          othValue = other[key];\n\n      result = undefined;\n      if (customizer) {\n        result = isWhere\n          ? customizer(othValue, objValue, key)\n          : customizer(objValue, othValue, key);\n      }\n      if (typeof result == 'undefined') {\n        // Recursively compare objects (susceptible to call stack limits).\n        result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isWhere, stackA, stackB);\n      }\n    }\n    if (!result) {\n      return false;\n    }\n    hasCtor || (hasCtor = key == 'constructor');\n  }\n  if (!hasCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = equalObjects;\n\n},{\"../object/keys\":120}],101:[function(require,module,exports){\nvar baseSetData = require('./baseSetData'),\n    isNative = require('../lang/isNative'),\n    support = require('../support');\n\n/** Used to detect named functions. */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference. */\nvar reThis = /\\bthis\\b/;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/**\n * Checks if `func` is eligible for `this` binding.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is eligible, else `false`.\n */\nfunction isBindable(func) {\n  var result = !(support.funcNames ? func.name : support.funcDecomp);\n\n  if (!result) {\n    var source = fnToString.call(func);\n    if (!support.funcNames) {\n      result = !reFuncName.test(source);\n    }\n    if (!result) {\n      // Check if `func` references the `this` keyword and store the result.\n      result = reThis.test(source) || isNative(func);\n      baseSetData(func, result);\n    }\n  }\n  return result;\n}\n\nmodule.exports = isBindable;\n\n},{\"../lang/isNative\":114,\"../support\":123,\"./baseSetData\":94}],102:[function(require,module,exports){\n/**\n * Used as the maximum length of an array-like value.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * for more details.\n */\nvar MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = +value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n\n},{}],103:[function(require,module,exports){\nvar isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    isObject = require('../lang/isObject');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number') {\n    var length = object.length,\n        prereq = isLength(length) && isIndex(index, length);\n  } else {\n    prereq = type == 'string' && index in object;\n  }\n  if (prereq) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n},{\"../lang/isObject\":115,\"./isIndex\":102,\"./isLength\":104}],104:[function(require,module,exports){\n/**\n * Used as the maximum length of an array-like value.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * for more details.\n */\nvar MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on ES `ToLength`. See the\n * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n * for more details.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n},{}],105:[function(require,module,exports){\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return (value && typeof value == 'object') || false;\n}\n\nmodule.exports = isObjectLike;\n\n},{}],106:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n}\n\nmodule.exports = isStrictComparable;\n\n},{\"../lang/isObject\":115}],107:[function(require,module,exports){\n(function (global){\nvar isNative = require('../lang/isNative');\n\n/** Native method references. */\nvar WeakMap = isNative(WeakMap = global.WeakMap) && WeakMap;\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../lang/isNative\":114}],108:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    keysIn = require('../object/keysIn'),\n    support = require('../support');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = length && isLength(length) &&\n    (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = shimKeys;\n\n},{\"../lang/isArguments\":110,\"../lang/isArray\":111,\"../object/keysIn\":121,\"../support\":123,\"./isIndex\":102,\"./isLength\":104}],109:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Converts `value` to an object if it is not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toObject;\n\n},{\"../lang/isObject\":115}],110:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  var length = isObjectLike(value) ? value.length : undefined;\n  return (isLength(length) && objToString.call(value) == argsTag) || false;\n}\n\nmodule.exports = isArguments;\n\n},{\"../internal/isLength\":104,\"../internal/isObjectLike\":105}],111:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isNative = require('./isNative'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return (isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag) || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internal/isLength\":104,\"../internal/isObjectLike\":105,\"./isNative\":114}],112:[function(require,module,exports){\nvar isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isFunction = require('./isFunction'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike'),\n    isString = require('./isString'),\n    keys = require('../object/keys');\n\n/**\n * Checks if `value` is empty. A value is considered empty unless it is an\n * `arguments` object, array, string, or jQuery-like collection with a length\n * greater than `0` or an object with own enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  var length = value.length;\n  if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n      (isObjectLike(value) && isFunction(value.splice)))) {\n    return !length;\n  }\n  return !keys(value).length;\n}\n\nmodule.exports = isEmpty;\n\n},{\"../internal/isLength\":104,\"../internal/isObjectLike\":105,\"../object/keys\":120,\"./isArguments\":110,\"./isArray\":111,\"./isFunction\":113,\"./isString\":116}],113:[function(require,module,exports){\n(function (global){\nvar baseIsFunction = require('../internal/baseIsFunction'),\n    isNative = require('./isNative');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/** Native method references. */\nvar Uint8Array = isNative(Uint8Array = global.Uint8Array) && Uint8Array;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nvar isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return objToString.call(value) == funcTag;\n};\n\nmodule.exports = isFunction;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../internal/baseIsFunction\":89,\"./isNative\":114}],114:[function(require,module,exports){\nvar escapeRegExp = require('../string/escapeRegExp'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reNative = RegExp('^' +\n  escapeRegExp(objToString)\n  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (objToString.call(value) == funcTag) {\n    return reNative.test(fnToString.call(value));\n  }\n  return (isObjectLike(value) && reHostCtor.test(value)) || false;\n}\n\nmodule.exports = isNative;\n\n},{\"../internal/isObjectLike\":105,\"../string/escapeRegExp\":122}],115:[function(require,module,exports){\n/**\n * Checks if `value` is the language type of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type == 'function' || (value && type == 'object') || false;\n}\n\nmodule.exports = isObject;\n\n},{}],116:[function(require,module,exports){\nvar isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag) || false;\n}\n\nmodule.exports = isString;\n\n},{\"../internal/isObjectLike\":105}],117:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return (isObjectLike(value) && isLength(value.length) && typedArrayTags[objToString.call(value)]) || false;\n}\n\nmodule.exports = isTypedArray;\n\n},{\"../internal/isLength\":104,\"../internal/isObjectLike\":105}],118:[function(require,module,exports){\nvar baseAssign = require('../internal/baseAssign'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it is invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments;\n * (objectValue, sourceValue, key, object, source).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return typeof value == 'undefined' ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(baseAssign);\n\nmodule.exports = assign;\n\n},{\"../internal/baseAssign\":79,\"../internal/createAssigner\":97}],119:[function(require,module,exports){\nvar baseCopy = require('../internal/baseCopy'),\n    baseCreate = require('../internal/baseCreate'),\n    isIterateeCall = require('../internal/isIterateeCall'),\n    keys = require('./keys');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, {\n *   'constructor': Circle\n * });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties, guard) {\n  var result = baseCreate(prototype);\n  if (guard && isIterateeCall(prototype, properties, guard)) {\n    properties = null;\n  }\n  return properties ? baseCopy(properties, result, keys(properties)) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internal/baseCopy\":81,\"../internal/baseCreate\":82,\"../internal/isIterateeCall\":103,\"./keys\":120}],120:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isNative = require('../lang/isNative'),\n    isObject = require('../lang/isObject'),\n    shimKeys = require('../internal/shimKeys');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (object) {\n    var Ctor = object.constructor,\n        length = object.length;\n  }\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && (length && isLength(length)))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\nmodule.exports = keys;\n\n},{\"../internal/isLength\":104,\"../internal/shimKeys\":108,\"../lang/isNative\":114,\"../lang/isObject\":115}],121:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('../internal/isIndex'),\n    isLength = require('../internal/isLength'),\n    isObject = require('../lang/isObject'),\n    support = require('../support');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n\n},{\"../internal/isIndex\":102,\"../internal/isLength\":104,\"../lang/isArguments\":110,\"../lang/isArray\":111,\"../lang/isObject\":115,\"../support\":123}],122:[function(require,module,exports){\nvar baseToString = require('../internal/baseToString');\n\n/**\n * Used to match `RegExp` special characters.\n * See this [article on `RegExp` characters](http://www.regular-expressions.info/characters.html#special)\n * for more details.\n */\nvar reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n    reHasRegExpChars = RegExp(reRegExpChars.source);\n\n/**\n * Escapes the `RegExp` special characters \"\\\", \"^\", \"$\", \".\", \"|\", \"?\", \"*\",\n * \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n *\n * @static\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = baseToString(string);\n  return (string && reHasRegExpChars.test(string))\n    ? string.replace(reRegExpChars, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n\n},{\"../internal/baseToString\":95}],123:[function(require,module,exports){\n(function (global){\nvar isNative = require('./lang/isNative');\n\n/** Used to detect functions containing a `this` reference. */\nvar reThis = /\\bthis\\b/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to detect DOM support. */\nvar document = (document = global.window) && document.document;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * An object environment feature flags.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n(function(x) {\n\n  /**\n   * Detect if functions can be decompiled by `Function#toString`\n   * (all but Firefox OS certified apps, older Opera mobile browsers, and\n   * the PlayStation 3; forced `false` for Windows 8 apps).\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  support.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n  /**\n   * Detect if `Function#name` is supported (all but IE).\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  support.funcNames = typeof Function.name == 'string';\n\n  /**\n   * Detect if the DOM is supported.\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  try {\n    support.dom = document.createDocumentFragment().nodeType === 11;\n  } catch(e) {\n    support.dom = false;\n  }\n\n  /**\n   * Detect if `arguments` object indexes are non-enumerable.\n   *\n   * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n   * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n   * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n   * checks for indexes that exceed their function's formal parameters with\n   * associated values of `0`.\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  try {\n    support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n  } catch(e) {\n    support.nonEnumArgs = true;\n  }\n}(0, 0));\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./lang/isNative\":114}],124:[function(require,module,exports){\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}]},{},[3])(3)\n});"]}